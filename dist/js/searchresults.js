!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){var r,o,i;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
!function(n,c){"object"==typeof t&&t&&"string"!=typeof t.nodeName?c(t):(o=[t],void 0===(i="function"==typeof(r=c)?r.apply(t,o):r)||(e.exports=i))}(0,function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}function c(e,t){return null!=e&&"object"!=typeof e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var u=RegExp.prototype.test;var a=/\S/;function l(e){return!function(e,t){return u.call(e,t)}(a,e)}var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var f=/\s*/,p=/\s+/,d=/\s*=/,v=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function y(e){this.string=e,this.tail=e,this.pos=0}function g(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function m(){this.cache={}}y.prototype.eos=function(){return""===this.tail},y.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},y.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},g.prototype.push=function(e){return new g(e,this)},g.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var o,u,a,l=this,s=!1;l;){if(e.indexOf(".")>0)for(o=l.view,u=e.split("."),a=0;null!=o&&a<u.length;)a===u.length-1&&(s=i(o,u[a])||c(o,u[a])),o=o[u[a++]];else o=l.view[e],s=i(l.view,e);if(s){t=o;break}l=l.parent}n[e]=t}return r(t)&&(t=t.call(this.view)),t},m.prototype.clearCache=function(){this.cache={}},m.prototype.parse=function(t,r){var i=this.cache,c=t+":"+(r||e.tags).join(":"),u=i[c];return null==u&&(u=i[c]=function(t,r){if(!t)return[];var i,c,u,a=[],s=[],g=[],m=!1,b=!1;function w(){if(m&&!b)for(;g.length;)delete s[g.pop()];else g=[];m=!1,b=!1}function S(e){if("string"==typeof e&&(e=e.split(p,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(o(e[0])+"\\s*"),c=new RegExp("\\s*"+o(e[1])),u=new RegExp("\\s*"+o("}"+e[1]))}S(r||e.tags);for(var k,E,x,T,q,A,L=new y(t);!L.eos();){if(k=L.pos,x=L.scanUntil(i))for(var C=0,j=x.length;C<j;++C)l(T=x.charAt(C))?g.push(s.length):b=!0,s.push(["text",T,k,k+1]),k+=1,"\n"===T&&w();if(!L.scan(i))break;if(m=!0,E=L.scan(h)||"name",L.scan(f),"="===E?(x=L.scanUntil(d),L.scan(d),L.scanUntil(c)):"{"===E?(x=L.scanUntil(u),L.scan(v),L.scanUntil(c),E="&"):x=L.scanUntil(c),!L.scan(c))throw new Error("Unclosed tag at "+L.pos);if(q=[E,x,k,L.pos],s.push(q),"#"===E||"^"===E)a.push(q);else if("/"===E){if(!(A=a.pop()))throw new Error('Unopened section "'+x+'" at '+k);if(A[1]!==x)throw new Error('Unclosed section "'+A[1]+'" at '+k)}else"name"===E||"{"===E||"&"===E?b=!0:"="===E&&S(x)}if(A=a.pop())throw new Error('Unclosed section "'+A[1]+'" at '+L.pos);return function(e){for(var t,n=[],r=n,o=[],i=0,c=e.length;i<c;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),o.push(t),r=t[4]=[];break;case"/":o.pop()[5]=t[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],o=0,i=e.length;o<i;++o)(t=e[o])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(s))}(t,r)),u},m.prototype.render=function(e,t,n,r){var o=this.parse(e,r),i=t instanceof g?t:new g(t);return this.renderTokens(o,i,n,e)},m.prototype.renderTokens=function(e,t,n,r){for(var o,i,c,u="",a=0,l=e.length;a<l;++a)c=void 0,"#"===(i=(o=e[a])[0])?c=this.renderSection(o,t,n,r):"^"===i?c=this.renderInverted(o,t,n,r):">"===i?c=this.renderPartial(o,t,n,r):"&"===i?c=this.unescapedValue(o,t):"name"===i?c=this.escapedValue(o,t):"text"===i&&(c=this.rawValue(o)),void 0!==c&&(u+=c);return u},m.prototype.renderSection=function(e,t,o,i){var c=this,u="",a=t.lookup(e[1]);if(a){if(n(a))for(var l=0,s=a.length;l<s;++l)u+=this.renderTokens(e[4],t.push(a[l]),o,i);else if("object"==typeof a||"string"==typeof a||"number"==typeof a)u+=this.renderTokens(e[4],t.push(a),o,i);else if(r(a)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(a=a.call(t.view,i.slice(e[3],e[5]),function(e){return c.render(e,t,o)}))&&(u+=a)}else u+=this.renderTokens(e[4],t,o,i);return u}},m.prototype.renderInverted=function(e,t,r,o){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,r,o)},m.prototype.renderPartial=function(e,t,n){if(n){var o=r(n)?n(e[1]):n[e[1]];return null!=o?this.renderTokens(this.parse(o),t,n,o):void 0}},m.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},m.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},m.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="3.0.0",e.tags=["{{","}}"];var b=new m;return e.clearCache=function(){return b.clearCache()},e.parse=function(e,t){return b.parse(e,t)},e.render=function(e,t,r,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+function(e){return n(e)?"array":typeof e}(e)+'" was given as the first argument for mustache#render(template, view, partials)');return b.render(e,t,r,o)},e.to_html=function(t,n,o,i){var c=e.render(t,n,o);if(!r(i))return c;i(c)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return s[e]})},e.Scanner=y,e.Context=g,e.Writer=m,e})},function(e){e.exports=[{title:"Fruits",items:[{name:"Apples",code:"1001"},{name:"Blackberries",code:"289"},{name:"Raspberries",code:"rasp-1234"}]},{title:"Vegetables",items:[{name:"Beets",code:"123"},{name:"Eggplant",code:"124"},{name:"Spinach",code:"125"}]},{title:"Nuts",items:[{name:"Almonds",code:"126"},{name:"Pecans",code:"127"},{name:"Walnuts",code:"128"}]},{title:"Meats",items:[{name:"Chicken",code:"129"},{name:"Fish",code:"130"},{name:"Turkey",code:"131"}]}]},function(e,t){e.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(3);var r=n(1);function o(e){return null!==e.offsetParent}function i(e){return Array.from(e).filter(o)}function c(e,t){var n=[],r="prev"===t?"previousElementSibling":"nextElementSibling";for(e=e[r];e;)n.push(e),e=e[r];return n}function u(e,t,n){var r=document.createEvent("Event");Object.assign(r,n),r.initEvent(t,!0,!0),e.dispatchEvent(r)}var a={isVisible:o,getVisible:i,hasVisible:function(e){return i(e).length>0},getSiblings:c,visibleSiblings:function(e,t){var n=c(e,t);return Array.from(n).filter(function(e){return e}).filter(o)},keyUp:function(e,t){u(e,"keyup",{key:t})},keyDown:function(e,t){u(e,"keydown",{key:t})},change:function(e){u(e,"change")},submit:function(e){u(e,"submit")}},l=n(0),s=n.n(l);var f={init:function(e,t){var n=document.querySelector("#category-template");n&&((function(e,t){var n=document.createElement("div");if(n.id="categories",e){var r=e.previousElementSibling;e.remove(),r.insertAdjacentElement("afterend",n)}else{var o=document.createElement("p");o.appendChild(document.createTextNode("Categories to toggle")),t.insertAdjacentElement("afterend",o),o.insertAdjacentElement("afterend",n)}return n}(document.querySelector("#categories"),t)).innerHTML=e.reduce(function(e,t,r){var o={category:{index:r,title:t.title}};return e+s.a.render(n.innerHTML,o)},""))}};function p(e){var t=window.getComputedStyle(e);return parseInt(t.height)}function d(e,t){return e.offsetTop-t.offsetTop-(p(t)-e.offsetHeight)}function v(e,t){var n=t.scrollTop+t.offsetTop;return e.offsetTop-n}function h(e){var t=window.getComputedStyle(e);return"scroll"===t.overflow||"auto"===t.overflow||"scroll"===t.overflowX||"auto"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowY}function y(e){for(var t=e.parentNode;!h(t)&&"HTML"!==t.nodeName;)t=t.parentNode;return t}function g(e){return e.offsetHeight}var m={intoView:function(e){var t=y(e);d(e,t)>0&&function(e,t){var n=d(e,t);t.scrollTop=t.scrollTop+n}(e,t),v(e,t)<0&&function(e,t){var n=v(e,t);t.scrollTop=t.scrollTop+n}(e,t)},outerDistanceBetween:function(e,t){var n=function(e,t){return e.offsetTop-t.offsetTop}(e,t);return n>=0?n+g(e):n+g(t)},innerHeight:p,getScrollContainer:y};function b(e){return m.getScrollContainer(e)===e.parentNode}function w(e){for(var t=e;!b(t)&&"HTML"!==t.nodeName;)t=t.parentNode;return t}function S(e){(function(e){m.intoView(e)})(e=w(e)),function(e){var t=function(e){return e.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])")}(e);t&&t[0].focus()}(e)}function k(e,t){var n=e;b(e)||(n=w(e)),(n=t(n))||(n=e),S(n)}function E(e){var t=m.getScrollContainer(e);return e.parentNode===t}function x(e){for(var t=e;!E(t)&&"HTML"!==t.nodeName;)t=t.parentNode;return t}function T(e){var t=m.getScrollContainer(e),n=Array.from(t.children),r=function(e,t){var n=x(e);return function(e){var r=m.outerDistanceBetween(n,e);return r>0&&r<t}}(e,m.innerHeight(t));return n.filter(r)[0]}function q(e){var t=m.getScrollContainer(e),n=Array.from(t.children),r=function(e,t){var n=x(e);return function(e){var r=m.outerDistanceBetween(e,n);return r>0&&r<t}}(e,m.innerHeight(t));return n.filter(r).pop()}var A={keydownHandler:function(e){var t=e.target;"PageUp"===e.key&&(function(e){S(e=T(e))}(t),e.preventDefault()),"PageDown"===e.key&&(function(e){S(e=q(e))}(t),e.preventDefault()),"End"===e.key&&(function(e){var t;b(e)||(t=w(e)),(t=a.visibleSiblings(t,"next").pop())||(t=e),S(t)}(t),e.preventDefault()),"Home"===e.key&&(function(e){var t;b(e)||(t=w(e)),(t=a.visibleSiblings(t,"prev").pop())||(t=e),S(t)}(t),e.preventDefault()),"ArrowUp"===e.key&&(function(e){k(e,function(e){return a.visibleSiblings(e,"prev")[0]})}(t),e.preventDefault()),"ArrowDown"===e.key&&(function(e){k(e,function(e){return a.visibleSiblings(e,"next")[0]})}(t),e.preventDefault())},moveTo:S},L="#categories",C="input[type=checkbox]";var j={addCheckboxEvent:function(e,t){document.querySelector(L).addEventListener(e,function(e){e.target.matches(C)&&t(e)})},uncheckByValue:function(e){var t=function(e){return document.querySelector("input[value="+e+"]")}(e);t.checked&&t.click()},checkFirst:function(){var e=document.querySelector(L).querySelectorAll(C),t=a.getVisible(e)[0];t.checked||t.click(),t.focus()},reset:function(){var e=document.querySelector(L).querySelectorAll(C);Array.from(e).filter(function(e){return e.checked}).forEach(function(e){return e.click()})},init:function(){document.querySelector(L).addEventListener("keydown",A.keydownHandler)}};var N={init:function(e){var t=document.querySelector("#result-template");if(t){var n=document.querySelector("#clearAll");((function(e,t){return e&&e.remove(),(e=document.createElement("div")).id="results",t.insertAdjacentElement("afterend",e),e})(document.querySelector("#results"),n)).innerHTML=e.reduce(function(e,n,r){var o={results:{index:r,title:n.title,food:n.items}};return e+s.a.render(t.innerHTML,o)},"")}}},H="#results",V=".result",U=".close",D="#clearAll";function M(e){for(var t=e.parentNode;!t.classList.contains("result")&&"HTML"!==t.nodeName;)t=t.parentNode;return t.id}function O(e,t){document.querySelector(H).addEventListener(e,function(e){e.target.matches(U)&&t(e)})}function P(e){var t=M(e.target);document.querySelector("#"+t).classList.add("hide")}function B(e,t){document.querySelector(D).addEventListener(e,t)}function _(){document.querySelectorAll(V).forEach(function(e){return e.classList.add("hide")})}var R={addClosebuttonsEvent:O,addClearallEvent:B,getName:M,toggle:function(e,t){var n=document.querySelector(D);e.classList.toggle("hide",!t);var r=document.querySelectorAll(V),o=a.hasVisible(r);n.classList.toggle("hide",!o)},init:function(){document.querySelectorAll(V).forEach(function(e){return e.classList.add("hide")}),O("click",P),document.querySelector(D).classList.add("hide"),B("click",_)}},F=n(2),I=n.n(F);var $=function(e,t){function n(e,t){t.querySelectorAll("label").forEach(function(t){t.innerHTML=function(e,t){var n=new RegExp("("+I()(t)+")","gi");return e.replace(n,"<b>$1</b>")}(t.innerText,e)})}function r(e){var t=e.parentNode;t.style.display="",t.classList.remove("hide")}t.addEventListener("keyup",function(t){var o=t.target.value;Array.from(e.querySelectorAll("p")).forEach(function(e){return e.classList.add("hide")});var i=e.querySelectorAll("input[type=checkbox]");Array.from(i).filter(function(e){var t=e.nextElementSibling;return function(e,t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}(o,t.innerText)}).forEach(r),n(o,e)})},W="#categories",X="#search",Y="#categorysearch";function z(e){var t=R.getName(e.target);j.uncheckByValue(t)}function G(e){var t=e.target,n=document.querySelector("#"+t.value);R.toggle(n,t.checked)}function J(){var e=document.querySelector(Y);e.value="",a.keyUp(e),j.reset(),e.focus()}function K(e){e.preventDefault(),j.checkFirst()}({init:function(e){var t=document.querySelector(X),n=f.init(e,t);N.init(e,n),function(){var e=document.querySelector(Y),t=document.querySelector(W);$(t,e),j.init(),j.addCheckboxEvent("click",G),R.init(),R.addClosebuttonsEvent("click",z),document.querySelector(X).addEventListener("submit",K),R.addClearallEvent("click",J)}()}}).init(r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211c3RhY2hlL211c3RhY2hlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lc2NhcGUtcmVnZXhwL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY3JlYXRlY2F0ZWdvcmllcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Nyb2xsLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JvbGxtYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9jaGVja2JveGxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NyZWF0ZXJlc3VsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc3VsdHNjb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9maWx0ZXJjaGVja2JveGVzYnl0ZXh0LmpzIiwid2VicGFjazovLy8uL3NyYy9zZWFyY2hyZXN1bHRzLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImdsb2JhbCIsImZhY3RvcnkiLCJub2RlTmFtZSIsInVuZGVmaW5lZCIsImFwcGx5IiwidGhpcyIsIm11c3RhY2hlIiwib2JqZWN0VG9TdHJpbmciLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJBcnJheSIsImlzRnVuY3Rpb24iLCJlc2NhcGVSZWdFeHAiLCJzdHJpbmciLCJyZXBsYWNlIiwiaGFzUHJvcGVydHkiLCJvYmoiLCJwcm9wTmFtZSIsInByaW1pdGl2ZUhhc093blByb3BlcnR5IiwicHJpbWl0aXZlIiwicmVnRXhwVGVzdCIsIlJlZ0V4cCIsInRlc3QiLCJub25TcGFjZVJlIiwiaXNXaGl0ZXNwYWNlIiwicmUiLCJ0ZXN0UmVnRXhwIiwiZW50aXR5TWFwIiwiJiIsIjwiLCI+IiwiXCIiLCInIiwiLyIsImAiLCI9Iiwid2hpdGVSZSIsInNwYWNlUmUiLCJlcXVhbHNSZSIsImN1cmx5UmUiLCJ0YWdSZSIsIlNjYW5uZXIiLCJ0YWlsIiwicG9zIiwiQ29udGV4dCIsInZpZXciLCJwYXJlbnRDb250ZXh0IiwiY2FjaGUiLCIuIiwicGFyZW50IiwiV3JpdGVyIiwiZW9zIiwic2NhbiIsIm1hdGNoIiwiaW5kZXgiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJzY2FuVW50aWwiLCJzZWFyY2giLCJwdXNoIiwibG9va3VwIiwiaW50ZXJtZWRpYXRlVmFsdWUiLCJuYW1lcyIsImNvbnRleHQiLCJsb29rdXBIaXQiLCJpbmRleE9mIiwic3BsaXQiLCJjbGVhckNhY2hlIiwicGFyc2UiLCJ0ZW1wbGF0ZSIsInRhZ3MiLCJjYWNoZUtleSIsImpvaW4iLCJ0b2tlbnMiLCJvcGVuaW5nVGFnUmUiLCJjbG9zaW5nVGFnUmUiLCJjbG9zaW5nQ3VybHlSZSIsInNlY3Rpb25zIiwic3BhY2VzIiwiaGFzVGFnIiwibm9uU3BhY2UiLCJzdHJpcFNwYWNlIiwicG9wIiwiY29tcGlsZVRhZ3MiLCJ0YWdzVG9Db21waWxlIiwiRXJyb3IiLCJzdGFydCIsInR5cGUiLCJjaHIiLCJ0b2tlbiIsIm9wZW5TZWN0aW9uIiwic2Nhbm5lciIsInZhbHVlTGVuZ3RoIiwiY2hhckF0IiwibmVzdGVkVG9rZW5zIiwiY29sbGVjdG9yIiwibnVtVG9rZW5zIiwibmVzdFRva2VucyIsImxhc3RUb2tlbiIsInNxdWFzaGVkVG9rZW5zIiwic3F1YXNoVG9rZW5zIiwicGFyc2VUZW1wbGF0ZSIsInJlbmRlciIsInBhcnRpYWxzIiwicmVuZGVyVG9rZW5zIiwib3JpZ2luYWxUZW1wbGF0ZSIsInN5bWJvbCIsImJ1ZmZlciIsInJlbmRlclNlY3Rpb24iLCJyZW5kZXJJbnZlcnRlZCIsInJlbmRlclBhcnRpYWwiLCJ1bmVzY2FwZWRWYWx1ZSIsImVzY2FwZWRWYWx1ZSIsInJhd1ZhbHVlIiwic2VsZiIsImoiLCJzbGljZSIsImVzY2FwZSIsInZlcnNpb24iLCJkZWZhdWx0V3JpdGVyIiwiVHlwZUVycm9yIiwidHlwZVN0ciIsInRvX2h0bWwiLCJzZW5kIiwicmVzdWx0IiwiU3RyaW5nIiwic3RyIiwiaXNWaXNpYmxlIiwiZWwiLCJvZmZzZXRQYXJlbnQiLCJnZXRWaXNpYmxlIiwiZWxzIiwiZnJvbSIsImZpbHRlciIsImdldFNpYmxpbmdzIiwic2libGluZ3MiLCJzaWJsaW5nVHlwZSIsImNyZWF0ZUV2ZW50IiwiZXZlbnRUeXBlIiwicGFyYW1zIiwiZXZlbnQiLCJkb2N1bWVudCIsImFzc2lnbiIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJ1dGlscyIsImhhc1Zpc2libGUiLCJ2aXNpYmxlU2libGluZ3MiLCJjb250YWluZXIiLCJkaXJlY3Rpb24iLCJrZXlVcCIsImtleURvd24iLCJjaGFuZ2UiLCJzdWJtaXQiLCJjcmVhdGVjYXRlZ29yaWVzIiwiaW5pdCIsImNhdERhdGEiLCJxdWVyeVNlbGVjdG9yIiwiY2F0ZWdvcmllcyIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImJlZm9yZUNhdGVnb3JpZXMiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwicmVtb3ZlIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsInJlbmV3Q2F0ZWdvcmllcyIsImlubmVySFRNTCIsInJlZHVjZSIsImh0bWwiLCJjYXRJbmZvIiwiY2F0ZWdvcnkiLCJ0aXRsZSIsImlubmVySGVpZ2h0IiwiaXRlbSIsInN0eWxlIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcnNlSW50IiwiaGVpZ2h0Iiwic2Nyb2xsVXBEaWZmZXJlbmNlIiwib2Zmc2V0VG9wIiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsRG93bkRpZmZlcmVuY2UiLCJjb250YWluZXJTY3JvbGwiLCJzY3JvbGxUb3AiLCJpc1Njcm9sbGFibGUiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsImdldFNjcm9sbENvbnRhaW5lciIsInBhcmVudE5vZGUiLCJvdXRlckhlaWdodCIsInNyY19zY3JvbGwiLCJpbnRvVmlldyIsIm9mZnNldERpZmZlcmVuY2UiLCJzY3JvbGxVcFRvIiwic2Nyb2xsRG93blRvIiwib3V0ZXJEaXN0YW5jZUJldHdlZW4iLCJpdGVtMSIsIml0ZW0yIiwiZGlzdCIsImRpc3RhbmNlQmV0d2VlbiIsImhhc1Njcm9sbENvbnRhaW5lckFzUGFyZW50Iiwic2Nyb2xsIiwidXBUb1Njcm9sbENoaWxkIiwibW92ZVRvIiwic2Nyb2xsVG8iLCJmb2N1c2FibGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2V0Rm9jdXNhYmxlRnJvbSIsImZvY3VzIiwic2V0Rm9jdXNlZCIsIm1vdmVUb0dpdmVuRGlyZWN0aW9uIiwiZ2V0RWxGdW5jIiwic2Nyb2xsQ2hpbGQiLCJpc1Njcm9sbFBhcmVudCIsInNjcm9sbFBhcmVudCIsImdldENvbnRhaW5lckNoaWxkIiwiZ2V0UGFnZVVwSXRlbSIsIml0ZW1zIiwiY2hpbGRyZW4iLCJzY3JvbGxWaWV3RmlsdGVyIiwic2Nyb2xsSGVpZ2h0IiwiY2hpbGQiLCJjcmVhdGVJbnNpZGVBYm92ZUZpbHRlciIsImdldFBhZ2VEb3duSXRlbSIsImNyZWF0ZUluc2lkZUJlbG93RmlsdGVyIiwic2Nyb2xsbWFuYWdlciIsImtleWRvd25IYW5kbGVyIiwiZXZ0IiwidGFyZ2V0IiwicGFnZVVwRnJvbSIsInByZXZlbnREZWZhdWx0IiwicGFnZURvd25Gcm9tIiwibW92ZVRvRW5kIiwibW92ZVRvU3RhcnQiLCJtb3ZlVG9QcmV2aW91cyIsIm1vdmVUb05leHQiLCJjYXRlZ29yaWVzU2VsZWN0b3IiLCJjaGVja2JveFNlbGVjdG9yIiwiY2hlY2tib3hsaXN0IiwiYWRkQ2hlY2tib3hFdmVudCIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwibWF0Y2hlcyIsInVuY2hlY2tCeVZhbHVlIiwiY2hlY2tib3giLCJnZXRDaGVja2JveEJ5VmFsdWUiLCJjaGVja2VkIiwiY2xpY2siLCJjaGVja0ZpcnN0IiwiY2hlY2tib3hlcyIsImZpcnN0Q2hlY2tib3giLCJyZXNldCIsImlucHV0cyIsImlucHV0IiwiZm9yRWFjaCIsInNjcm9sbE1hbmFnZXIiLCJjcmVhdGVyZXN1bHRzIiwiY2xlYXJBbGwiLCJyZXN1bHRzIiwicmVuZXdSZXN1bHRzIiwiZm9vZCIsInJlc3VsdHNTZWxlY3RvciIsInJlc3VsdFNlbGVjdG9yIiwiY2xvc2VTZWxlY3RvciIsImNsZWFyQWxsU2VsZWN0b3IiLCJnZXROYW1lIiwiYnV0dG9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGRDbG9zZWJ1dHRvbnNFdmVudCIsImNsb3NlQ2xpY2tIYW5kbGVyIiwiYWRkIiwiYWRkQ2xlYXJhbGxFdmVudCIsImNsZWFyQWxsQ2xpY2tIYW5kbGVyIiwicmVzdWx0c2NvbnRyb2xsZXIiLCJ0b2dnbGUiLCJzaG91bGRTaG93IiwiaGFzUmVzdWx0cyIsImZpbHRlckNoZWNrYm94ZXNCeVRleHQiLCJzZWFyY2hGaWVsZCIsImhpZ2hsaWdodE1hdGNoZXMiLCJsYWJlbCIsInRleHQiLCJzZWFyY2hSeCIsImNhc2VJbnNlbnNpdGl2ZUJvbGQiLCJpbm5lclRleHQiLCJzaG93SXRlbSIsImRpc3BsYXkiLCJzZWFyY2hWYWx1ZSIsInBhcmEiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJoYXlzdGFjayIsIm5lZWRsZSIsInRvTG93ZXJDYXNlIiwiY29udGFpbnNUZXh0Iiwic2VhcmNoRm9ybVNlbGVjdG9yIiwic2VhcmNoRmllbGRTZWxlY3RvciIsInVuY2hlY2tDaGVja2JveEhhbmRsZXIiLCJyZXN1bHRzQ29udHJvbGxlciIsImNoZWNrYm94TGlzdCIsInRvZ2dsZVJlc3VsdEhhbmRsZXIiLCJmb3JtU3VibWl0SGFuZGxlciIsImNhdGVnb3J5U2VjdGlvbiIsImNyZWF0ZUNhdGVnb3JpZXMiLCJjcmVhdGVSZXN1bHRzIiwiZmlsdGVyQ2hlY2tib3hlcyIsImluaXRTZWFyY2hSZXN1bHRzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFB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RUFBSUMsT0FDZjdHLEVBQVNpQixTQUFTZ0IsY0FBYyxJQUFNNEYsRUFBUzNRLE9BQ3JEaVUsRUFBa0J2QixPQUFPNUosRUFBUTZILEVBQVNFLFNBRTlDLFNBQVMyQixJQUNMLElBQU1NLEVBQWMvSSxTQUFTZ0IsY0FBY2dKLEdBQzNDakIsRUFBWTlTLE1BQVEsR0FDcEJtSyxFQUFNSyxNQUFNc0ksR0FDWm9CLEVBQWFoRCxRQUNiNEIsRUFBWXZFLFFBRWhCLFNBQVM2RixFQUFrQjFFLEdBQ3ZCQSxFQUFJRyxpQkFDSnFFLEVBQWFuRCxlQXFCYmxHLEtBUEosU0FBY0MsR0FDVixJQUFNbEcsRUFBU21GLFNBQVNnQixjQUFjK0ksR0FDaENPLEVBQWtCQyxFQUFpQnpKLEtBQUtDLEVBQVNsRyxHQUN2RDJQLEVBQWMxSixLQUFLQyxFQUFTdUosR0FmaEMsV0FDSSxJQUFNelAsRUFBU21GLFNBQVNnQixjQUFjZ0osR0FDaEMvSSxFQUFhakIsU0FBU2dCLGNBQWNvRixHQUMxQ3FFLEVBQWlCeEosRUFBWXBHLEdBQzdCc1AsRUFBYXJKLE9BQ2JxSixFQUFhNUQsaUJBQWlCLFFBQVM2RCxHQUN2Q0YsRUFBa0JwSixPQUNsQm9KLEVBQWtCN0IscUJBQXFCLFFBQVM0QixHQUM3QmpLLFNBQVNnQixjQUFjK0ksR0FDL0J0RCxpQkFBaUIsU0FBVTRELEdBQ3RDSCxFQUFrQjFCLGlCQUFpQixRQUFTQyxHQU01Q2lDLE1DNUNVNUosS0FBS0MiLCJmaWxlIjoianMvc2VhcmNocmVzdWx0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsIi8qIVxuICogbXVzdGFjaGUuanMgLSBMb2dpYy1sZXNzIHt7bXVzdGFjaGV9fSB0ZW1wbGF0ZXMgd2l0aCBKYXZhU2NyaXB0XG4gKiBodHRwOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzXG4gKi9cblxuLypnbG9iYWwgZGVmaW5lOiBmYWxzZSBNdXN0YWNoZTogdHJ1ZSovXG5cbihmdW5jdGlvbiBkZWZpbmVNdXN0YWNoZSAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiB0eXBlb2YgZXhwb3J0cy5ub2RlTmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBmYWN0b3J5KGV4cG9ydHMpOyAvLyBDb21tb25KU1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSk7IC8vIEFNRFxuICB9IGVsc2Uge1xuICAgIGdsb2JhbC5NdXN0YWNoZSA9IHt9O1xuICAgIGZhY3RvcnkoZ2xvYmFsLk11c3RhY2hlKTsgLy8gc2NyaXB0LCB3c2gsIGFzcFxuICB9XG59KHRoaXMsIGZ1bmN0aW9uIG11c3RhY2hlRmFjdG9yeSAobXVzdGFjaGUpIHtcblxuICB2YXIgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheVBvbHlmaWxsIChvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vcmUgY29ycmVjdCB0eXBlb2Ygc3RyaW5nIGhhbmRsaW5nIGFycmF5XG4gICAqIHdoaWNoIG5vcm1hbGx5IHJldHVybnMgdHlwZW9mICdvYmplY3QnXG4gICAqL1xuICBmdW5jdGlvbiB0eXBlU3RyIChvYmopIHtcbiAgICByZXR1cm4gaXNBcnJheShvYmopID8gJ2FycmF5JyA6IHR5cGVvZiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAgKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvW1xcLVxcW1xcXXt9KCkqKz8uLFxcXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOdWxsIHNhZmUgd2F5IG9mIGNoZWNraW5nIHdoZXRoZXIgb3Igbm90IGFuIG9iamVjdCxcbiAgICogaW5jbHVkaW5nIGl0cyBwcm90b3R5cGUsIGhhcyBhIGdpdmVuIHByb3BlcnR5XG4gICAqL1xuICBmdW5jdGlvbiBoYXNQcm9wZXJ0eSAob2JqLCBwcm9wTmFtZSkge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAocHJvcE5hbWUgaW4gb2JqKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYWZlIHdheSBvZiBkZXRlY3Rpbmcgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIHRoaW5nIGlzIGEgcHJpbWl0aXZlIGFuZFxuICAgKiB3aGV0aGVyIGl0IGhhcyB0aGUgZ2l2ZW4gcHJvcGVydHlcbiAgICovXG4gIGZ1bmN0aW9uIHByaW1pdGl2ZUhhc093blByb3BlcnR5IChwcmltaXRpdmUsIHByb3BOYW1lKSB7ICBcbiAgICByZXR1cm4gKFxuICAgICAgcHJpbWl0aXZlICE9IG51bGxcbiAgICAgICYmIHR5cGVvZiBwcmltaXRpdmUgIT09ICdvYmplY3QnXG4gICAgICAmJiBwcmltaXRpdmUuaGFzT3duUHJvcGVydHlcbiAgICAgICYmIHByaW1pdGl2ZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSlcbiAgICApO1xuICB9XG5cbiAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9pc3N1ZXMuYXBhY2hlLm9yZy9qaXJhL2Jyb3dzZS9DT1VDSERCLTU3N1xuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phbmwvbXVzdGFjaGUuanMvaXNzdWVzLzE4OVxuICB2YXIgcmVnRXhwVGVzdCA9IFJlZ0V4cC5wcm90b3R5cGUudGVzdDtcbiAgZnVuY3Rpb24gdGVzdFJlZ0V4cCAocmUsIHN0cmluZykge1xuICAgIHJldHVybiByZWdFeHBUZXN0LmNhbGwocmUsIHN0cmluZyk7XG4gIH1cblxuICB2YXIgbm9uU3BhY2VSZSA9IC9cXFMvO1xuICBmdW5jdGlvbiBpc1doaXRlc3BhY2UgKHN0cmluZykge1xuICAgIHJldHVybiAhdGVzdFJlZ0V4cChub25TcGFjZVJlLCBzdHJpbmcpO1xuICB9XG5cbiAgdmFyIGVudGl0eU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OycsXG4gICAgJy8nOiAnJiN4MkY7JyxcbiAgICAnYCc6ICcmI3g2MDsnLFxuICAgICc9JzogJyYjeDNEOydcbiAgfTtcblxuICBmdW5jdGlvbiBlc2NhcGVIdG1sIChzdHJpbmcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvWyY8PlwiJ2A9XFwvXS9nLCBmdW5jdGlvbiBmcm9tRW50aXR5TWFwIChzKSB7XG4gICAgICByZXR1cm4gZW50aXR5TWFwW3NdO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHdoaXRlUmUgPSAvXFxzKi87XG4gIHZhciBzcGFjZVJlID0gL1xccysvO1xuICB2YXIgZXF1YWxzUmUgPSAvXFxzKj0vO1xuICB2YXIgY3VybHlSZSA9IC9cXHMqXFx9LztcbiAgdmFyIHRhZ1JlID0gLyN8XFxefFxcL3w+fFxce3wmfD18IS87XG5cbiAgLyoqXG4gICAqIEJyZWFrcyB1cCB0aGUgZ2l2ZW4gYHRlbXBsYXRlYCBzdHJpbmcgaW50byBhIHRyZWUgb2YgdG9rZW5zLiBJZiB0aGUgYHRhZ3NgXG4gICAqIGFyZ3VtZW50IGlzIGdpdmVuIGhlcmUgaXQgbXVzdCBiZSBhbiBhcnJheSB3aXRoIHR3byBzdHJpbmcgdmFsdWVzOiB0aGVcbiAgICogb3BlbmluZyBhbmQgY2xvc2luZyB0YWdzIHVzZWQgaW4gdGhlIHRlbXBsYXRlIChlLmcuIFsgXCI8JVwiLCBcIiU+XCIgXSkuIE9mXG4gICAqIGNvdXJzZSwgdGhlIGRlZmF1bHQgaXMgdG8gdXNlIG11c3RhY2hlcyAoaS5lLiBtdXN0YWNoZS50YWdzKS5cbiAgICpcbiAgICogQSB0b2tlbiBpcyBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IDQgZWxlbWVudHMuIFRoZSBmaXJzdCBlbGVtZW50IGlzIHRoZVxuICAgKiBtdXN0YWNoZSBzeW1ib2wgdGhhdCB3YXMgdXNlZCBpbnNpZGUgdGhlIHRhZywgZS5nLiBcIiNcIiBvciBcIiZcIi4gSWYgdGhlIHRhZ1xuICAgKiBkaWQgbm90IGNvbnRhaW4gYSBzeW1ib2wgKGkuZS4ge3tteVZhbHVlfX0pIHRoaXMgZWxlbWVudCBpcyBcIm5hbWVcIi4gRm9yXG4gICAqIGFsbCB0ZXh0IHRoYXQgYXBwZWFycyBvdXRzaWRlIGEgc3ltYm9sIHRoaXMgZWxlbWVudCBpcyBcInRleHRcIi5cbiAgICpcbiAgICogVGhlIHNlY29uZCBlbGVtZW50IG9mIGEgdG9rZW4gaXMgaXRzIFwidmFsdWVcIi4gRm9yIG11c3RhY2hlIHRhZ3MgdGhpcyBpc1xuICAgKiB3aGF0ZXZlciBlbHNlIHdhcyBpbnNpZGUgdGhlIHRhZyBiZXNpZGVzIHRoZSBvcGVuaW5nIHN5bWJvbC4gRm9yIHRleHQgdG9rZW5zXG4gICAqIHRoaXMgaXMgdGhlIHRleHQgaXRzZWxmLlxuICAgKlxuICAgKiBUaGUgdGhpcmQgYW5kIGZvdXJ0aCBlbGVtZW50cyBvZiB0aGUgdG9rZW4gYXJlIHRoZSBzdGFydCBhbmQgZW5kIGluZGljZXMsXG4gICAqIHJlc3BlY3RpdmVseSwgb2YgdGhlIHRva2VuIGluIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZS5cbiAgICpcbiAgICogVG9rZW5zIHRoYXQgYXJlIHRoZSByb290IG5vZGUgb2YgYSBzdWJ0cmVlIGNvbnRhaW4gdHdvIG1vcmUgZWxlbWVudHM6IDEpIGFuXG4gICAqIGFycmF5IG9mIHRva2VucyBpbiB0aGUgc3VidHJlZSBhbmQgMikgdGhlIGluZGV4IGluIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSBhdFxuICAgKiB3aGljaCB0aGUgY2xvc2luZyB0YWcgZm9yIHRoYXQgc2VjdGlvbiBiZWdpbnMuXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVRlbXBsYXRlICh0ZW1wbGF0ZSwgdGFncykge1xuICAgIGlmICghdGVtcGxhdGUpXG4gICAgICByZXR1cm4gW107XG5cbiAgICB2YXIgc2VjdGlvbnMgPSBbXTsgICAgIC8vIFN0YWNrIHRvIGhvbGQgc2VjdGlvbiB0b2tlbnNcbiAgICB2YXIgdG9rZW5zID0gW107ICAgICAgIC8vIEJ1ZmZlciB0byBob2xkIHRoZSB0b2tlbnNcbiAgICB2YXIgc3BhY2VzID0gW107ICAgICAgIC8vIEluZGljZXMgb2Ygd2hpdGVzcGFjZSB0b2tlbnMgb24gdGhlIGN1cnJlbnQgbGluZVxuICAgIHZhciBoYXNUYWcgPSBmYWxzZTsgICAgLy8gSXMgdGhlcmUgYSB7e3RhZ319IG9uIHRoZSBjdXJyZW50IGxpbmU/XG4gICAgdmFyIG5vblNwYWNlID0gZmFsc2U7ICAvLyBJcyB0aGVyZSBhIG5vbi1zcGFjZSBjaGFyIG9uIHRoZSBjdXJyZW50IGxpbmU/XG5cbiAgICAvLyBTdHJpcHMgYWxsIHdoaXRlc3BhY2UgdG9rZW5zIGFycmF5IGZvciB0aGUgY3VycmVudCBsaW5lXG4gICAgLy8gaWYgdGhlcmUgd2FzIGEge3sjdGFnfX0gb24gaXQgYW5kIG90aGVyd2lzZSBvbmx5IHNwYWNlLlxuICAgIGZ1bmN0aW9uIHN0cmlwU3BhY2UgKCkge1xuICAgICAgaWYgKGhhc1RhZyAmJiAhbm9uU3BhY2UpIHtcbiAgICAgICAgd2hpbGUgKHNwYWNlcy5sZW5ndGgpXG4gICAgICAgICAgZGVsZXRlIHRva2Vuc1tzcGFjZXMucG9wKCldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3BhY2VzID0gW107XG4gICAgICB9XG5cbiAgICAgIGhhc1RhZyA9IGZhbHNlO1xuICAgICAgbm9uU3BhY2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgb3BlbmluZ1RhZ1JlLCBjbG9zaW5nVGFnUmUsIGNsb3NpbmdDdXJseVJlO1xuICAgIGZ1bmN0aW9uIGNvbXBpbGVUYWdzICh0YWdzVG9Db21waWxlKSB7XG4gICAgICBpZiAodHlwZW9mIHRhZ3NUb0NvbXBpbGUgPT09ICdzdHJpbmcnKVxuICAgICAgICB0YWdzVG9Db21waWxlID0gdGFnc1RvQ29tcGlsZS5zcGxpdChzcGFjZVJlLCAyKTtcblxuICAgICAgaWYgKCFpc0FycmF5KHRhZ3NUb0NvbXBpbGUpIHx8IHRhZ3NUb0NvbXBpbGUubGVuZ3RoICE9PSAyKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFnczogJyArIHRhZ3NUb0NvbXBpbGUpO1xuXG4gICAgICBvcGVuaW5nVGFnUmUgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4cCh0YWdzVG9Db21waWxlWzBdKSArICdcXFxccyonKTtcbiAgICAgIGNsb3NpbmdUYWdSZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKicgKyBlc2NhcGVSZWdFeHAodGFnc1RvQ29tcGlsZVsxXSkpO1xuICAgICAgY2xvc2luZ0N1cmx5UmUgPSBuZXcgUmVnRXhwKCdcXFxccyonICsgZXNjYXBlUmVnRXhwKCd9JyArIHRhZ3NUb0NvbXBpbGVbMV0pKTtcbiAgICB9XG5cbiAgICBjb21waWxlVGFncyh0YWdzIHx8IG11c3RhY2hlLnRhZ3MpO1xuXG4gICAgdmFyIHNjYW5uZXIgPSBuZXcgU2Nhbm5lcih0ZW1wbGF0ZSk7XG5cbiAgICB2YXIgc3RhcnQsIHR5cGUsIHZhbHVlLCBjaHIsIHRva2VuLCBvcGVuU2VjdGlvbjtcbiAgICB3aGlsZSAoIXNjYW5uZXIuZW9zKCkpIHtcbiAgICAgIHN0YXJ0ID0gc2Nhbm5lci5wb3M7XG5cbiAgICAgIC8vIE1hdGNoIGFueSB0ZXh0IGJldHdlZW4gdGFncy5cbiAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwob3BlbmluZ1RhZ1JlKTtcblxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IHZhbHVlTGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBjaHIgPSB2YWx1ZS5jaGFyQXQoaSk7XG5cbiAgICAgICAgICBpZiAoaXNXaGl0ZXNwYWNlKGNocikpIHtcbiAgICAgICAgICAgIHNwYWNlcy5wdXNoKHRva2Vucy5sZW5ndGgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub25TcGFjZSA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdG9rZW5zLnB1c2goWyAndGV4dCcsIGNociwgc3RhcnQsIHN0YXJ0ICsgMSBdKTtcbiAgICAgICAgICBzdGFydCArPSAxO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIHdoaXRlc3BhY2Ugb24gdGhlIGN1cnJlbnQgbGluZS5cbiAgICAgICAgICBpZiAoY2hyID09PSAnXFxuJylcbiAgICAgICAgICAgIHN0cmlwU3BhY2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBNYXRjaCB0aGUgb3BlbmluZyB0YWcuXG4gICAgICBpZiAoIXNjYW5uZXIuc2NhbihvcGVuaW5nVGFnUmUpKVxuICAgICAgICBicmVhaztcblxuICAgICAgaGFzVGFnID0gdHJ1ZTtcblxuICAgICAgLy8gR2V0IHRoZSB0YWcgdHlwZS5cbiAgICAgIHR5cGUgPSBzY2FubmVyLnNjYW4odGFnUmUpIHx8ICduYW1lJztcbiAgICAgIHNjYW5uZXIuc2Nhbih3aGl0ZVJlKTtcblxuICAgICAgLy8gR2V0IHRoZSB0YWcgdmFsdWUuXG4gICAgICBpZiAodHlwZSA9PT0gJz0nKSB7XG4gICAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoZXF1YWxzUmUpO1xuICAgICAgICBzY2FubmVyLnNjYW4oZXF1YWxzUmUpO1xuICAgICAgICBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nVGFnUmUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAneycpIHtcbiAgICAgICAgdmFsdWUgPSBzY2FubmVyLnNjYW5VbnRpbChjbG9zaW5nQ3VybHlSZSk7XG4gICAgICAgIHNjYW5uZXIuc2NhbihjdXJseVJlKTtcbiAgICAgICAgc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICAgICAgdHlwZSA9ICcmJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gc2Nhbm5lci5zY2FuVW50aWwoY2xvc2luZ1RhZ1JlKTtcbiAgICAgIH1cblxuICAgICAgLy8gTWF0Y2ggdGhlIGNsb3NpbmcgdGFnLlxuICAgICAgaWYgKCFzY2FubmVyLnNjYW4oY2xvc2luZ1RhZ1JlKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCB0YWcgYXQgJyArIHNjYW5uZXIucG9zKTtcblxuICAgICAgdG9rZW4gPSBbIHR5cGUsIHZhbHVlLCBzdGFydCwgc2Nhbm5lci5wb3MgXTtcbiAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcblxuICAgICAgaWYgKHR5cGUgPT09ICcjJyB8fCB0eXBlID09PSAnXicpIHtcbiAgICAgICAgc2VjdGlvbnMucHVzaCh0b2tlbik7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICcvJykge1xuICAgICAgICAvLyBDaGVjayBzZWN0aW9uIG5lc3RpbmcuXG4gICAgICAgIG9wZW5TZWN0aW9uID0gc2VjdGlvbnMucG9wKCk7XG5cbiAgICAgICAgaWYgKCFvcGVuU2VjdGlvbilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vub3BlbmVkIHNlY3Rpb24gXCInICsgdmFsdWUgKyAnXCIgYXQgJyArIHN0YXJ0KTtcblxuICAgICAgICBpZiAob3BlblNlY3Rpb25bMV0gIT09IHZhbHVlKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5jbG9zZWQgc2VjdGlvbiBcIicgKyBvcGVuU2VjdGlvblsxXSArICdcIiBhdCAnICsgc3RhcnQpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbmFtZScgfHwgdHlwZSA9PT0gJ3snIHx8IHR5cGUgPT09ICcmJykge1xuICAgICAgICBub25TcGFjZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICc9Jykge1xuICAgICAgICAvLyBTZXQgdGhlIHRhZ3MgZm9yIHRoZSBuZXh0IHRpbWUgYXJvdW5kLlxuICAgICAgICBjb21waWxlVGFncyh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHRoZXJlIGFyZSBubyBvcGVuIHNlY3Rpb25zIHdoZW4gd2UncmUgZG9uZS5cbiAgICBvcGVuU2VjdGlvbiA9IHNlY3Rpb25zLnBvcCgpO1xuXG4gICAgaWYgKG9wZW5TZWN0aW9uKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmNsb3NlZCBzZWN0aW9uIFwiJyArIG9wZW5TZWN0aW9uWzFdICsgJ1wiIGF0ICcgKyBzY2FubmVyLnBvcyk7XG5cbiAgICByZXR1cm4gbmVzdFRva2VucyhzcXVhc2hUb2tlbnModG9rZW5zKSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tYmluZXMgdGhlIHZhbHVlcyBvZiBjb25zZWN1dGl2ZSB0ZXh0IHRva2VucyBpbiB0aGUgZ2l2ZW4gYHRva2Vuc2AgYXJyYXlcbiAgICogdG8gYSBzaW5nbGUgdG9rZW4uXG4gICAqL1xuICBmdW5jdGlvbiBzcXVhc2hUb2tlbnMgKHRva2Vucykge1xuICAgIHZhciBzcXVhc2hlZFRva2VucyA9IFtdO1xuXG4gICAgdmFyIHRva2VuLCBsYXN0VG9rZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG51bVRva2VucyA9IHRva2Vucy5sZW5ndGg7IGkgPCBudW1Ub2tlbnM7ICsraSkge1xuICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBpZiAodG9rZW5bMF0gPT09ICd0ZXh0JyAmJiBsYXN0VG9rZW4gJiYgbGFzdFRva2VuWzBdID09PSAndGV4dCcpIHtcbiAgICAgICAgICBsYXN0VG9rZW5bMV0gKz0gdG9rZW5bMV07XG4gICAgICAgICAgbGFzdFRva2VuWzNdID0gdG9rZW5bM107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3F1YXNoZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgbGFzdFRva2VuID0gdG9rZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3F1YXNoZWRUb2tlbnM7XG4gIH1cblxuICAvKipcbiAgICogRm9ybXMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIGludG8gYSBuZXN0ZWQgdHJlZSBzdHJ1Y3R1cmUgd2hlcmVcbiAgICogdG9rZW5zIHRoYXQgcmVwcmVzZW50IGEgc2VjdGlvbiBoYXZlIHR3byBhZGRpdGlvbmFsIGl0ZW1zOiAxKSBhbiBhcnJheSBvZlxuICAgKiBhbGwgdG9rZW5zIHRoYXQgYXBwZWFyIGluIHRoYXQgc2VjdGlvbiBhbmQgMikgdGhlIGluZGV4IGluIHRoZSBvcmlnaW5hbFxuICAgKiB0ZW1wbGF0ZSB0aGF0IHJlcHJlc2VudHMgdGhlIGVuZCBvZiB0aGF0IHNlY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBuZXN0VG9rZW5zICh0b2tlbnMpIHtcbiAgICB2YXIgbmVzdGVkVG9rZW5zID0gW107XG4gICAgdmFyIGNvbGxlY3RvciA9IG5lc3RlZFRva2VucztcbiAgICB2YXIgc2VjdGlvbnMgPSBbXTtcblxuICAgIHZhciB0b2tlbiwgc2VjdGlvbjtcbiAgICBmb3IgKHZhciBpID0gMCwgbnVtVG9rZW5zID0gdG9rZW5zLmxlbmd0aDsgaSA8IG51bVRva2VuczsgKytpKSB7XG4gICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgc3dpdGNoICh0b2tlblswXSkge1xuICAgICAgICBjYXNlICcjJzpcbiAgICAgICAgY2FzZSAnXic6XG4gICAgICAgICAgY29sbGVjdG9yLnB1c2godG9rZW4pO1xuICAgICAgICAgIHNlY3Rpb25zLnB1c2godG9rZW4pO1xuICAgICAgICAgIGNvbGxlY3RvciA9IHRva2VuWzRdID0gW107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJy8nOlxuICAgICAgICAgIHNlY3Rpb24gPSBzZWN0aW9ucy5wb3AoKTtcbiAgICAgICAgICBzZWN0aW9uWzVdID0gdG9rZW5bMl07XG4gICAgICAgICAgY29sbGVjdG9yID0gc2VjdGlvbnMubGVuZ3RoID4gMCA/IHNlY3Rpb25zW3NlY3Rpb25zLmxlbmd0aCAtIDFdWzRdIDogbmVzdGVkVG9rZW5zO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbGxlY3Rvci5wdXNoKHRva2VuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmVzdGVkVG9rZW5zO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc2ltcGxlIHN0cmluZyBzY2FubmVyIHRoYXQgaXMgdXNlZCBieSB0aGUgdGVtcGxhdGUgcGFyc2VyIHRvIGZpbmRcbiAgICogdG9rZW5zIGluIHRlbXBsYXRlIHN0cmluZ3MuXG4gICAqL1xuICBmdW5jdGlvbiBTY2FubmVyIChzdHJpbmcpIHtcbiAgICB0aGlzLnN0cmluZyA9IHN0cmluZztcbiAgICB0aGlzLnRhaWwgPSBzdHJpbmc7XG4gICAgdGhpcy5wb3MgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSB0YWlsIGlzIGVtcHR5IChlbmQgb2Ygc3RyaW5nKS5cbiAgICovXG4gIFNjYW5uZXIucHJvdG90eXBlLmVvcyA9IGZ1bmN0aW9uIGVvcyAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFpbCA9PT0gJyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRyaWVzIHRvIG1hdGNoIHRoZSBnaXZlbiByZWd1bGFyIGV4cHJlc3Npb24gYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAqIFJldHVybnMgdGhlIG1hdGNoZWQgdGV4dCBpZiBpdCBjYW4gbWF0Y2gsIHRoZSBlbXB0eSBzdHJpbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgU2Nhbm5lci5wcm90b3R5cGUuc2NhbiA9IGZ1bmN0aW9uIHNjYW4gKHJlKSB7XG4gICAgdmFyIG1hdGNoID0gdGhpcy50YWlsLm1hdGNoKHJlKTtcblxuICAgIGlmICghbWF0Y2ggfHwgbWF0Y2guaW5kZXggIT09IDApXG4gICAgICByZXR1cm4gJyc7XG5cbiAgICB2YXIgc3RyaW5nID0gbWF0Y2hbMF07XG5cbiAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwuc3Vic3RyaW5nKHN0cmluZy5sZW5ndGgpO1xuICAgIHRoaXMucG9zICs9IHN0cmluZy5sZW5ndGg7XG5cbiAgICByZXR1cm4gc3RyaW5nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTa2lwcyBhbGwgdGV4dCB1bnRpbCB0aGUgZ2l2ZW4gcmVndWxhciBleHByZXNzaW9uIGNhbiBiZSBtYXRjaGVkLiBSZXR1cm5zXG4gICAqIHRoZSBza2lwcGVkIHN0cmluZywgd2hpY2ggaXMgdGhlIGVudGlyZSB0YWlsIGlmIG5vIG1hdGNoIGNhbiBiZSBtYWRlLlxuICAgKi9cbiAgU2Nhbm5lci5wcm90b3R5cGUuc2NhblVudGlsID0gZnVuY3Rpb24gc2NhblVudGlsIChyZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMudGFpbC5zZWFyY2gocmUpLCBtYXRjaDtcblxuICAgIHN3aXRjaCAoaW5kZXgpIHtcbiAgICAgIGNhc2UgLTE6XG4gICAgICAgIG1hdGNoID0gdGhpcy50YWlsO1xuICAgICAgICB0aGlzLnRhaWwgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIG1hdGNoID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbWF0Y2ggPSB0aGlzLnRhaWwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgdGhpcy50YWlsID0gdGhpcy50YWlsLnN1YnN0cmluZyhpbmRleCk7XG4gICAgfVxuXG4gICAgdGhpcy5wb3MgKz0gbWF0Y2gubGVuZ3RoO1xuXG4gICAgcmV0dXJuIG1hdGNoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIGEgcmVuZGVyaW5nIGNvbnRleHQgYnkgd3JhcHBpbmcgYSB2aWV3IG9iamVjdCBhbmRcbiAgICogbWFpbnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBjb250ZXh0LlxuICAgKi9cbiAgZnVuY3Rpb24gQ29udGV4dCAodmlldywgcGFyZW50Q29udGV4dCkge1xuICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgdGhpcy5jYWNoZSA9IHsgJy4nOiB0aGlzLnZpZXcgfTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudENvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBjb250ZXh0IHVzaW5nIHRoZSBnaXZlbiB2aWV3IHdpdGggdGhpcyBjb250ZXh0XG4gICAqIGFzIHRoZSBwYXJlbnQuXG4gICAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodmlldykge1xuICAgIHJldHVybiBuZXcgQ29udGV4dCh2aWV3LCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIG5hbWUgaW4gdGhpcyBjb250ZXh0LCB0cmF2ZXJzaW5nXG4gICAqIHVwIHRoZSBjb250ZXh0IGhpZXJhcmNoeSBpZiB0aGUgdmFsdWUgaXMgYWJzZW50IGluIHRoaXMgY29udGV4dCdzIHZpZXcuXG4gICAqL1xuICBDb250ZXh0LnByb3RvdHlwZS5sb29rdXAgPSBmdW5jdGlvbiBsb29rdXAgKG5hbWUpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLmNhY2hlO1xuXG4gICAgdmFyIHZhbHVlO1xuICAgIGlmIChjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgdmFsdWUgPSBjYWNoZVtuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBpbnRlcm1lZGlhdGVWYWx1ZSwgbmFtZXMsIGluZGV4LCBsb29rdXBIaXQgPSBmYWxzZTtcblxuICAgICAgd2hpbGUgKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG5hbWUuaW5kZXhPZignLicpID4gMCkge1xuICAgICAgICAgIGludGVybWVkaWF0ZVZhbHVlID0gY29udGV4dC52aWV3O1xuICAgICAgICAgIG5hbWVzID0gbmFtZS5zcGxpdCgnLicpO1xuICAgICAgICAgIGluZGV4ID0gMDtcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFVzaW5nIHRoZSBkb3Qgbm90aW9uIHBhdGggaW4gYG5hbWVgLCB3ZSBkZXNjZW5kIHRocm91Z2ggdGhlXG4gICAgICAgICAgICogbmVzdGVkIG9iamVjdHMuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBUbyBiZSBjZXJ0YWluIHRoYXQgdGhlIGxvb2t1cCBoYXMgYmVlbiBzdWNjZXNzZnVsLCB3ZSBoYXZlIHRvXG4gICAgICAgICAgICogY2hlY2sgaWYgdGhlIGxhc3Qgb2JqZWN0IGluIHRoZSBwYXRoIGFjdHVhbGx5IGhhcyB0aGUgcHJvcGVydHlcbiAgICAgICAgICAgKiB3ZSBhcmUgbG9va2luZyBmb3IuIFdlIHN0b3JlIHRoZSByZXN1bHQgaW4gYGxvb2t1cEhpdGAuXG4gICAgICAgICAgICpcbiAgICAgICAgICAgKiBUaGlzIGlzIHNwZWNpYWxseSBuZWNlc3NhcnkgZm9yIHdoZW4gdGhlIHZhbHVlIGhhcyBiZWVuIHNldCB0b1xuICAgICAgICAgICAqIGB1bmRlZmluZWRgIGFuZCB3ZSB3YW50IHRvIGF2b2lkIGxvb2tpbmcgdXAgcGFyZW50IGNvbnRleHRzLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogSW4gdGhlIGNhc2Ugd2hlcmUgZG90IG5vdGF0aW9uIGlzIHVzZWQsIHdlIGNvbnNpZGVyIHRoZSBsb29rdXBcbiAgICAgICAgICAgKiB0byBiZSBzdWNjZXNzZnVsIGV2ZW4gaWYgdGhlIGxhc3QgXCJvYmplY3RcIiBpbiB0aGUgcGF0aCBpc1xuICAgICAgICAgICAqIG5vdCBhY3R1YWxseSBhbiBvYmplY3QgYnV0IGEgcHJpbWl0aXZlIChlLmcuLCBhIHN0cmluZywgb3IgYW5cbiAgICAgICAgICAgKiBpbnRlZ2VyKSwgYmVjYXVzZSBpdCBpcyBzb21ldGltZXMgdXNlZnVsIHRvIGFjY2VzcyBhIHByb3BlcnR5XG4gICAgICAgICAgICogb2YgYW4gYXV0b2JveGVkIHByaW1pdGl2ZSwgc3VjaCBhcyB0aGUgbGVuZ3RoIG9mIGEgc3RyaW5nLlxuICAgICAgICAgICAqKi9cbiAgICAgICAgICB3aGlsZSAoaW50ZXJtZWRpYXRlVmFsdWUgIT0gbnVsbCAmJiBpbmRleCA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSBuYW1lcy5sZW5ndGggLSAxKVxuICAgICAgICAgICAgICBsb29rdXBIaXQgPSAoXG4gICAgICAgICAgICAgICAgaGFzUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSkgXG4gICAgICAgICAgICAgICAgfHwgcHJpbWl0aXZlSGFzT3duUHJvcGVydHkoaW50ZXJtZWRpYXRlVmFsdWUsIG5hbWVzW2luZGV4XSlcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaW50ZXJtZWRpYXRlVmFsdWUgPSBpbnRlcm1lZGlhdGVWYWx1ZVtuYW1lc1tpbmRleCsrXV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGludGVybWVkaWF0ZVZhbHVlID0gY29udGV4dC52aWV3W25hbWVdO1xuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogT25seSBjaGVja2luZyBhZ2FpbnN0IGBoYXNQcm9wZXJ0eWAsIHdoaWNoIGFsd2F5cyByZXR1cm5zIGBmYWxzZWAgaWZcbiAgICAgICAgICAgKiBgY29udGV4dC52aWV3YCBpcyBub3QgYW4gb2JqZWN0LiBEZWxpYmVyYXRlbHkgb21pdHRpbmcgdGhlIGNoZWNrXG4gICAgICAgICAgICogYWdhaW5zdCBgcHJpbWl0aXZlSGFzT3duUHJvcGVydHlgIGlmIGRvdCBub3RhdGlvbiBpcyBub3QgdXNlZC5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIENvbnNpZGVyIHRoaXMgZXhhbXBsZTpcbiAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgKiBNdXN0YWNoZS5yZW5kZXIoXCJUaGUgbGVuZ3RoIG9mIGEgZm9vdGJhbGwgZmllbGQgaXMge3sjbGVuZ3RofX17e2xlbmd0aH19e3svbGVuZ3RofX0uXCIsIHtsZW5ndGg6IFwiMTAwIHlhcmRzXCJ9KVxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogSWYgd2Ugd2VyZSB0byBjaGVjayBhbHNvIGFnYWluc3QgYHByaW1pdGl2ZUhhc093blByb3BlcnR5YCwgYXMgd2UgZG9cbiAgICAgICAgICAgKiBpbiB0aGUgZG90IG5vdGF0aW9uIGNhc2UsIHRoZW4gcmVuZGVyIGNhbGwgd291bGQgcmV0dXJuOlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogXCJUaGUgbGVuZ3RoIG9mIGEgZm9vdGJhbGwgZmllbGQgaXMgOS5cIlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogcmF0aGVyIHRoYW4gdGhlIGV4cGVjdGVkOlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogXCJUaGUgbGVuZ3RoIG9mIGEgZm9vdGJhbGwgZmllbGQgaXMgMTAwIHlhcmRzLlwiXG4gICAgICAgICAgICoqL1xuICAgICAgICAgIGxvb2t1cEhpdCA9IGhhc1Byb3BlcnR5KGNvbnRleHQudmlldywgbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobG9va3VwSGl0KSB7XG4gICAgICAgICAgdmFsdWUgPSBpbnRlcm1lZGlhdGVWYWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnBhcmVudDtcbiAgICAgIH1cblxuICAgICAgY2FjaGVbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpXG4gICAgICB2YWx1ZSA9IHZhbHVlLmNhbGwodGhpcy52aWV3KTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQSBXcml0ZXIga25vd3MgaG93IHRvIHRha2UgYSBzdHJlYW0gb2YgdG9rZW5zIGFuZCByZW5kZXIgdGhlbSB0byBhXG4gICAqIHN0cmluZywgZ2l2ZW4gYSBjb250ZXh0LiBJdCBhbHNvIG1haW50YWlucyBhIGNhY2hlIG9mIHRlbXBsYXRlcyB0b1xuICAgKiBhdm9pZCB0aGUgbmVlZCB0byBwYXJzZSB0aGUgc2FtZSB0ZW1wbGF0ZSB0d2ljZS5cbiAgICovXG4gIGZ1bmN0aW9uIFdyaXRlciAoKSB7XG4gICAgdGhpcy5jYWNoZSA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGlzIHdyaXRlci5cbiAgICovXG4gIFdyaXRlci5wcm90b3R5cGUuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uIGNsZWFyQ2FjaGUgKCkge1xuICAgIHRoaXMuY2FjaGUgPSB7fTtcbiAgfTtcblxuICAvKipcbiAgICogUGFyc2VzIGFuZCBjYWNoZXMgdGhlIGdpdmVuIGB0ZW1wbGF0ZWAgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBgdGFnc2Agb3JcbiAgICogYG11c3RhY2hlLnRhZ3NgIGlmIGB0YWdzYCBpcyBvbWl0dGVkLCAgYW5kIHJldHVybnMgdGhlIGFycmF5IG9mIHRva2Vuc1xuICAgKiB0aGF0IGlzIGdlbmVyYXRlZCBmcm9tIHRoZSBwYXJzZS5cbiAgICovXG4gIFdyaXRlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAodGVtcGxhdGUsIHRhZ3MpIHtcbiAgICB2YXIgY2FjaGUgPSB0aGlzLmNhY2hlO1xuICAgIHZhciBjYWNoZUtleSA9IHRlbXBsYXRlICsgJzonICsgKHRhZ3MgfHwgbXVzdGFjaGUudGFncykuam9pbignOicpO1xuICAgIHZhciB0b2tlbnMgPSBjYWNoZVtjYWNoZUtleV07XG5cbiAgICBpZiAodG9rZW5zID09IG51bGwpXG4gICAgICB0b2tlbnMgPSBjYWNoZVtjYWNoZUtleV0gPSBwYXJzZVRlbXBsYXRlKHRlbXBsYXRlLCB0YWdzKTtcblxuICAgIHJldHVybiB0b2tlbnM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhpZ2gtbGV2ZWwgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byByZW5kZXIgdGhlIGdpdmVuIGB0ZW1wbGF0ZWAgd2l0aFxuICAgKiB0aGUgZ2l2ZW4gYHZpZXdgLlxuICAgKlxuICAgKiBUaGUgb3B0aW9uYWwgYHBhcnRpYWxzYCBhcmd1bWVudCBtYXkgYmUgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlXG4gICAqIG5hbWVzIGFuZCB0ZW1wbGF0ZXMgb2YgcGFydGlhbHMgdGhhdCBhcmUgdXNlZCBpbiB0aGUgdGVtcGxhdGUuIEl0IG1heVxuICAgKiBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGxvYWQgcGFydGlhbCB0ZW1wbGF0ZXMgb24gdGhlIGZseVxuICAgKiB0aGF0IHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50OiB0aGUgbmFtZSBvZiB0aGUgcGFydGlhbC5cbiAgICpcbiAgICogSWYgdGhlIG9wdGlvbmFsIGB0YWdzYCBhcmd1bWVudCBpcyBnaXZlbiBoZXJlIGl0IG11c3QgYmUgYW4gYXJyYXkgd2l0aCB0d29cbiAgICogc3RyaW5nIHZhbHVlczogdGhlIG9wZW5pbmcgYW5kIGNsb3NpbmcgdGFncyB1c2VkIGluIHRoZSB0ZW1wbGF0ZSAoZS5nLlxuICAgKiBbIFwiPCVcIiwgXCIlPlwiIF0pLiBUaGUgZGVmYXVsdCBpcyB0byBtdXN0YWNoZS50YWdzLlxuICAgKi9cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgdGFncykge1xuICAgIHZhciB0b2tlbnMgPSB0aGlzLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbiAgICB2YXIgY29udGV4dCA9ICh2aWV3IGluc3RhbmNlb2YgQ29udGV4dCkgPyB2aWV3IDogbmV3IENvbnRleHQodmlldyk7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VucywgY29udGV4dCwgcGFydGlhbHMsIHRlbXBsYXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogTG93LWxldmVsIG1ldGhvZCB0aGF0IHJlbmRlcnMgdGhlIGdpdmVuIGFycmF5IG9mIGB0b2tlbnNgIHVzaW5nXG4gICAqIHRoZSBnaXZlbiBgY29udGV4dGAgYW5kIGBwYXJ0aWFsc2AuXG4gICAqXG4gICAqIE5vdGU6IFRoZSBgb3JpZ2luYWxUZW1wbGF0ZWAgaXMgb25seSBldmVyIHVzZWQgdG8gZXh0cmFjdCB0aGUgcG9ydGlvblxuICAgKiBvZiB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB3YXMgY29udGFpbmVkIGluIGEgaGlnaGVyLW9yZGVyIHNlY3Rpb24uXG4gICAqIElmIHRoZSB0ZW1wbGF0ZSBkb2Vzbid0IHVzZSBoaWdoZXItb3JkZXIgc2VjdGlvbnMsIHRoaXMgYXJndW1lbnQgbWF5XG4gICAqIGJlIG9taXR0ZWQuXG4gICAqL1xuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlclRva2VucyA9IGZ1bmN0aW9uIHJlbmRlclRva2VucyAodG9rZW5zLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSkge1xuICAgIHZhciBidWZmZXIgPSAnJztcblxuICAgIHZhciB0b2tlbiwgc3ltYm9sLCB2YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMCwgbnVtVG9rZW5zID0gdG9rZW5zLmxlbmd0aDsgaSA8IG51bVRva2VuczsgKytpKSB7XG4gICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgc3ltYm9sID0gdG9rZW5bMF07XG5cbiAgICAgIGlmIChzeW1ib2wgPT09ICcjJykgdmFsdWUgPSB0aGlzLnJlbmRlclNlY3Rpb24odG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtcbiAgICAgIGVsc2UgaWYgKHN5bWJvbCA9PT0gJ14nKSB2YWx1ZSA9IHRoaXMucmVuZGVySW52ZXJ0ZWQodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtcbiAgICAgIGVsc2UgaWYgKHN5bWJvbCA9PT0gJz4nKSB2YWx1ZSA9IHRoaXMucmVuZGVyUGFydGlhbCh0b2tlbiwgY29udGV4dCwgcGFydGlhbHMsIG9yaWdpbmFsVGVtcGxhdGUpO1xuICAgICAgZWxzZSBpZiAoc3ltYm9sID09PSAnJicpIHZhbHVlID0gdGhpcy51bmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCk7XG4gICAgICBlbHNlIGlmIChzeW1ib2wgPT09ICduYW1lJykgdmFsdWUgPSB0aGlzLmVzY2FwZWRWYWx1ZSh0b2tlbiwgY29udGV4dCk7XG4gICAgICBlbHNlIGlmIChzeW1ib2wgPT09ICd0ZXh0JykgdmFsdWUgPSB0aGlzLnJhd1ZhbHVlKHRva2VuKTtcblxuICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGJ1ZmZlciArPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmZmVyO1xuICB9O1xuXG4gIFdyaXRlci5wcm90b3R5cGUucmVuZGVyU2VjdGlvbiA9IGZ1bmN0aW9uIHJlbmRlclNlY3Rpb24gKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYnVmZmVyID0gJyc7XG4gICAgdmFyIHZhbHVlID0gY29udGV4dC5sb29rdXAodG9rZW5bMV0pO1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJlbmRlciBhbiBhcmJpdHJhcnkgdGVtcGxhdGVcbiAgICAvLyBpbiB0aGUgY3VycmVudCBjb250ZXh0IGJ5IGhpZ2hlci1vcmRlciBzZWN0aW9ucy5cbiAgICBmdW5jdGlvbiBzdWJSZW5kZXIgKHRlbXBsYXRlKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW5kZXIodGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzKTtcbiAgICB9XG5cbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XG5cbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAodmFyIGogPSAwLCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaiA8IHZhbHVlTGVuZ3RoOyArK2opIHtcbiAgICAgICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LnB1c2godmFsdWVbal0pLCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgYnVmZmVyICs9IHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LnB1c2godmFsdWUpLCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbFRlbXBsYXRlICE9PSAnc3RyaW5nJylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgdXNlIGhpZ2hlci1vcmRlciBzZWN0aW9ucyB3aXRob3V0IHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZScpO1xuXG4gICAgICAvLyBFeHRyYWN0IHRoZSBwb3J0aW9uIG9mIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHRoZSBzZWN0aW9uIGNvbnRhaW5zLlxuICAgICAgdmFsdWUgPSB2YWx1ZS5jYWxsKGNvbnRleHQudmlldywgb3JpZ2luYWxUZW1wbGF0ZS5zbGljZSh0b2tlblszXSwgdG9rZW5bNV0pLCBzdWJSZW5kZXIpO1xuXG4gICAgICBpZiAodmFsdWUgIT0gbnVsbClcbiAgICAgICAgYnVmZmVyICs9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWZmZXIgKz0gdGhpcy5yZW5kZXJUb2tlbnModG9rZW5bNF0sIGNvbnRleHQsIHBhcnRpYWxzLCBvcmlnaW5hbFRlbXBsYXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLnJlbmRlckludmVydGVkID0gZnVuY3Rpb24gcmVuZGVySW52ZXJ0ZWQgKHRva2VuLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSkge1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcblxuICAgIC8vIFVzZSBKYXZhU2NyaXB0J3MgZGVmaW5pdGlvbiBvZiBmYWxzeS4gSW5jbHVkZSBlbXB0eSBhcnJheXMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8xODZcbiAgICBpZiAoIXZhbHVlIHx8IChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApKVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyVG9rZW5zKHRva2VuWzRdLCBjb250ZXh0LCBwYXJ0aWFscywgb3JpZ2luYWxUZW1wbGF0ZSk7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS5yZW5kZXJQYXJ0aWFsID0gZnVuY3Rpb24gcmVuZGVyUGFydGlhbCAodG9rZW4sIGNvbnRleHQsIHBhcnRpYWxzKSB7XG4gICAgaWYgKCFwYXJ0aWFscykgcmV0dXJuO1xuXG4gICAgdmFyIHZhbHVlID0gaXNGdW5jdGlvbihwYXJ0aWFscykgPyBwYXJ0aWFscyh0b2tlblsxXSkgOiBwYXJ0aWFsc1t0b2tlblsxXV07XG4gICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJUb2tlbnModGhpcy5wYXJzZSh2YWx1ZSksIGNvbnRleHQsIHBhcnRpYWxzLCB2YWx1ZSk7XG4gIH07XG5cbiAgV3JpdGVyLnByb3RvdHlwZS51bmVzY2FwZWRWYWx1ZSA9IGZ1bmN0aW9uIHVuZXNjYXBlZFZhbHVlICh0b2tlbiwgY29udGV4dCkge1xuICAgIHZhciB2YWx1ZSA9IGNvbnRleHQubG9va3VwKHRva2VuWzFdKTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbClcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLmVzY2FwZWRWYWx1ZSA9IGZ1bmN0aW9uIGVzY2FwZWRWYWx1ZSAodG9rZW4sIGNvbnRleHQpIHtcbiAgICB2YXIgdmFsdWUgPSBjb250ZXh0Lmxvb2t1cCh0b2tlblsxXSk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICByZXR1cm4gbXVzdGFjaGUuZXNjYXBlKHZhbHVlKTtcbiAgfTtcblxuICBXcml0ZXIucHJvdG90eXBlLnJhd1ZhbHVlID0gZnVuY3Rpb24gcmF3VmFsdWUgKHRva2VuKSB7XG4gICAgcmV0dXJuIHRva2VuWzFdO1xuICB9O1xuXG4gIG11c3RhY2hlLm5hbWUgPSAnbXVzdGFjaGUuanMnO1xuICBtdXN0YWNoZS52ZXJzaW9uID0gJzMuMC4wJztcbiAgbXVzdGFjaGUudGFncyA9IFsgJ3t7JywgJ319JyBdO1xuXG4gIC8vIEFsbCBoaWdoLWxldmVsIG11c3RhY2hlLiogZnVuY3Rpb25zIHVzZSB0aGlzIHdyaXRlci5cbiAgdmFyIGRlZmF1bHRXcml0ZXIgPSBuZXcgV3JpdGVyKCk7XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgY2FjaGVkIHRlbXBsYXRlcyBpbiB0aGUgZGVmYXVsdCB3cml0ZXIuXG4gICAqL1xuICBtdXN0YWNoZS5jbGVhckNhY2hlID0gZnVuY3Rpb24gY2xlYXJDYWNoZSAoKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRXcml0ZXIuY2xlYXJDYWNoZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQYXJzZXMgYW5kIGNhY2hlcyB0aGUgZ2l2ZW4gdGVtcGxhdGUgaW4gdGhlIGRlZmF1bHQgd3JpdGVyIGFuZCByZXR1cm5zIHRoZVxuICAgKiBhcnJheSBvZiB0b2tlbnMgaXQgY29udGFpbnMuIERvaW5nIHRoaXMgYWhlYWQgb2YgdGltZSBhdm9pZHMgdGhlIG5lZWQgdG9cbiAgICogcGFyc2UgdGVtcGxhdGVzIG9uIHRoZSBmbHkgYXMgdGhleSBhcmUgcmVuZGVyZWQuXG4gICAqL1xuICBtdXN0YWNoZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlICh0ZW1wbGF0ZSwgdGFncykge1xuICAgIHJldHVybiBkZWZhdWx0V3JpdGVyLnBhcnNlKHRlbXBsYXRlLCB0YWdzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVycyB0aGUgYHRlbXBsYXRlYCB3aXRoIHRoZSBnaXZlbiBgdmlld2AgYW5kIGBwYXJ0aWFsc2AgdXNpbmcgdGhlXG4gICAqIGRlZmF1bHQgd3JpdGVyLiBJZiB0aGUgb3B0aW9uYWwgYHRhZ3NgIGFyZ3VtZW50IGlzIGdpdmVuIGhlcmUgaXQgbXVzdCBiZSBhblxuICAgKiBhcnJheSB3aXRoIHR3byBzdHJpbmcgdmFsdWVzOiB0aGUgb3BlbmluZyBhbmQgY2xvc2luZyB0YWdzIHVzZWQgaW4gdGhlXG4gICAqIHRlbXBsYXRlIChlLmcuIFsgXCI8JVwiLCBcIiU+XCIgXSkuIFRoZSBkZWZhdWx0IGlzIHRvIG11c3RhY2hlLnRhZ3MuXG4gICAqL1xuICBtdXN0YWNoZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgdGFncykge1xuICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHRlbXBsYXRlISBUZW1wbGF0ZSBzaG91bGQgYmUgYSBcInN0cmluZ1wiICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYnV0IFwiJyArIHR5cGVTdHIodGVtcGxhdGUpICsgJ1wiIHdhcyBnaXZlbiBhcyB0aGUgZmlyc3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCBmb3IgbXVzdGFjaGUjcmVuZGVyKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscyknKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFdyaXRlci5yZW5kZXIodGVtcGxhdGUsIHZpZXcsIHBhcnRpYWxzLCB0YWdzKTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIGhlcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggMC40LnguLFxuICAvKmVzbGludC1kaXNhYmxlICovIC8vIGVzbGludCB3YW50cyBjYW1lbCBjYXNlZCBmdW5jdGlvbiBuYW1lXG4gIG11c3RhY2hlLnRvX2h0bWwgPSBmdW5jdGlvbiB0b19odG1sICh0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMsIHNlbmQpIHtcbiAgICAvKmVzbGludC1lbmFibGUqL1xuXG4gICAgdmFyIHJlc3VsdCA9IG11c3RhY2hlLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oc2VuZCkpIHtcbiAgICAgIHNlbmQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBlc2NhcGluZyBmdW5jdGlvbiBzbyB0aGF0IHRoZSB1c2VyIG1heSBvdmVycmlkZSBpdC5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYW5sL211c3RhY2hlLmpzL2lzc3Vlcy8yNDRcbiAgbXVzdGFjaGUuZXNjYXBlID0gZXNjYXBlSHRtbDtcblxuICAvLyBFeHBvcnQgdGhlc2UgbWFpbmx5IGZvciB0ZXN0aW5nLCBidXQgYWxzbyBmb3IgYWR2YW5jZWQgdXNhZ2UuXG4gIG11c3RhY2hlLlNjYW5uZXIgPSBTY2FubmVyO1xuICBtdXN0YWNoZS5Db250ZXh0ID0gQ29udGV4dDtcbiAgbXVzdGFjaGUuV3JpdGVyID0gV3JpdGVyO1xuXG4gIHJldHVybiBtdXN0YWNoZTtcbn0pKTtcbiIsIlxuLyoqXG4gKiBFc2NhcGUgcmVnZXhwIHNwZWNpYWwgY2hhcmFjdGVycyBpbiBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIFN0cmluZyhzdHIpLnJlcGxhY2UoLyhbLiorPz1eIToke30oKXxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcbn07IiwiLypqc2xpbnQgYnJvd3NlciAqL1xyXG5mdW5jdGlvbiBpc1Zpc2libGUoZWwpIHtcclxuICAgIHJldHVybiBlbC5vZmZzZXRQYXJlbnQgIT09IG51bGw7XHJcbn1cclxuZnVuY3Rpb24gZ2V0VmlzaWJsZShlbHMpIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKGVscykuZmlsdGVyKGlzVmlzaWJsZSk7XHJcbn1cclxuZnVuY3Rpb24gaGFzVmlzaWJsZShlbHMpIHtcclxuICAgIHJldHVybiBnZXRWaXNpYmxlKGVscykubGVuZ3RoID4gMDtcclxufVxyXG5mdW5jdGlvbiBnZXRTaWJsaW5ncyhlbCwgdHlwZSkge1xyXG4gICAgY29uc3Qgc2libGluZ3MgPSBbXTtcclxuICAgIGNvbnN0IHNpYmxpbmdUeXBlID0gKHR5cGUgPT09IFwicHJldlwiKVxyXG4gICAgICAgID8gXCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nXCJcclxuICAgICAgICA6IFwibmV4dEVsZW1lbnRTaWJsaW5nXCI7XHJcbiAgICBlbCA9IGVsW3NpYmxpbmdUeXBlXTtcclxuICAgIHdoaWxlIChlbCkge1xyXG4gICAgICAgIHNpYmxpbmdzLnB1c2goZWwpO1xyXG4gICAgICAgIGVsID0gZWxbc2libGluZ1R5cGVdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNpYmxpbmdzO1xyXG59XHJcbmZ1bmN0aW9uIHZpc2libGVTaWJsaW5ncyhjb250YWluZXIsIGRpcmVjdGlvbikge1xyXG4gICAgY29uc3QgZWxzID0gZ2V0U2libGluZ3MoY29udGFpbmVyLCBkaXJlY3Rpb24pO1xyXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxzKS5maWx0ZXIoKGVsKSA9PiBlbCkuZmlsdGVyKGlzVmlzaWJsZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlRXZlbnQoZWwsIGV2ZW50VHlwZSwgcGFyYW1zKSB7XHJcbiAgICBjb25zdCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XHJcbiAgICBjb25zdCBidWJibGVzID0gdHJ1ZTtcclxuICAgIGNvbnN0IGNhbmNlbGFibGUgPSB0cnVlO1xyXG4gICAgT2JqZWN0LmFzc2lnbihldmVudCwgcGFyYW1zKTtcclxuICAgIGV2ZW50LmluaXRFdmVudChldmVudFR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpO1xyXG4gICAgZWwuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbn1cclxuZnVuY3Rpb24ga2V5VXAoZWwsIGtleSkge1xyXG4gICAgY3JlYXRlRXZlbnQoZWwsIFwia2V5dXBcIiwge2tleToga2V5fSk7XHJcbn1cclxuZnVuY3Rpb24ga2V5RG93bihlbCwga2V5KSB7XHJcbiAgICBjcmVhdGVFdmVudChlbCwgXCJrZXlkb3duXCIsIHtrZXk6IGtleX0pO1xyXG59XHJcbmZ1bmN0aW9uIGNoYW5nZShlbCkge1xyXG4gICAgY3JlYXRlRXZlbnQoZWwsIFwiY2hhbmdlXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHN1Ym1pdChlbCkge1xyXG4gICAgY3JlYXRlRXZlbnQoZWwsIFwic3VibWl0XCIpO1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGlzVmlzaWJsZSxcclxuICAgIGdldFZpc2libGUsXHJcbiAgICBoYXNWaXNpYmxlLFxyXG4gICAgZ2V0U2libGluZ3MsXHJcbiAgICB2aXNpYmxlU2libGluZ3MsXHJcbiAgICBrZXlVcCxcclxuICAgIGtleURvd24sXHJcbiAgICBjaGFuZ2UsXHJcbiAgICBzdWJtaXRcclxufTsiLCIvKmpzbGludCBicm93c2VyICovXHJcbmltcG9ydCBtdXN0YWNoZSBmcm9tIFwibXVzdGFjaGVcIjtcclxuXHJcbmZ1bmN0aW9uIHJlbmV3Q2F0ZWdvcmllcyhjYXRlZ29yaWVzLCBzZWFyY2gpIHtcclxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBkaXYuaWQgPSBcImNhdGVnb3JpZXNcIjtcclxuICAgIGlmIChjYXRlZ29yaWVzKSB7XHJcbiAgICAgICAgY29uc3QgYmVmb3JlQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXMucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgICAgICBjYXRlZ29yaWVzLnJlbW92ZSgpO1xyXG4gICAgICAgIGJlZm9yZUNhdGVnb3JpZXMuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgZGl2KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgICAgIHAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJDYXRlZ29yaWVzIHRvIHRvZ2dsZVwiKSk7XHJcbiAgICAgICAgc2VhcmNoLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHApO1xyXG4gICAgICAgIHAuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgZGl2KTtcclxuICAgIH1cclxuICAgIHJldHVybiBkaXY7XHJcbn1cclxuZnVuY3Rpb24gaW5pdChjYXREYXRhLCBzZWFyY2gpIHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXRlZ29yeS10ZW1wbGF0ZVwiKTtcclxuICAgIGlmICghdGVtcGxhdGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2F0ZWdvcnlSZWR1Y2VyKGh0bWwsIGNhdEluZm8sIGluZGV4KSB7XHJcbiAgICAgICAgY29uc3QgdmlldyA9IHtcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBjYXRJbmZvLnRpdGxlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBodG1sICsgbXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLmlubmVySFRNTCwgdmlldyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2F0ZWdvcmllc1wiKTtcclxuICAgIGNvbnN0IHRlbXBsYXRlQ2F0ZWdvcmllcyA9IHJlbmV3Q2F0ZWdvcmllcyhjYXRlZ29yaWVzLCBzZWFyY2gpO1xyXG4gICAgdGVtcGxhdGVDYXRlZ29yaWVzLmlubmVySFRNTCA9IGNhdERhdGEucmVkdWNlKGNhdGVnb3J5UmVkdWNlciwgXCJcIik7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgaW5pdFxyXG59O1xyXG4iLCIvKmpzbGludCBicm93c2VyICovXHJcblxyXG5mdW5jdGlvbiBpbm5lckhlaWdodChpdGVtKSB7XHJcbiAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGl0ZW0pO1xyXG4gICAgcmV0dXJuIHBhcnNlSW50KHN0eWxlLmhlaWdodCk7XHJcbn1cclxuZnVuY3Rpb24gc2Nyb2xsVXBEaWZmZXJlbmNlKGl0ZW0sIGNvbnRhaW5lcikge1xyXG4gICAgY29uc3Qgb2Zmc2V0RnJvbUNvbnRhaW5lclRvcCA9IGl0ZW0ub2Zmc2V0VG9wIC0gY29udGFpbmVyLm9mZnNldFRvcDtcclxuICAgIGNvbnN0IGRlc2lyZWRPZmZzZXQgPSBpbm5lckhlaWdodChjb250YWluZXIpIC0gaXRlbS5vZmZzZXRIZWlnaHQ7XHJcbiAgICByZXR1cm4gb2Zmc2V0RnJvbUNvbnRhaW5lclRvcCAtIGRlc2lyZWRPZmZzZXQ7XHJcbn1cclxuZnVuY3Rpb24gc2Nyb2xsVXBUbyhpdGVtLCBjb250YWluZXIpIHtcclxuICAgIGNvbnN0IG9mZnNldERpZmZlcmVuY2UgPSBzY3JvbGxVcERpZmZlcmVuY2UoaXRlbSwgY29udGFpbmVyKTtcclxuICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBjb250YWluZXIuc2Nyb2xsVG9wICsgb2Zmc2V0RGlmZmVyZW5jZTtcclxufVxyXG5mdW5jdGlvbiBzY3JvbGxEb3duRGlmZmVyZW5jZShpdGVtLCBjb250YWluZXIpIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lclNjcm9sbCA9IGNvbnRhaW5lci5zY3JvbGxUb3AgKyBjb250YWluZXIub2Zmc2V0VG9wO1xyXG4gICAgcmV0dXJuIGl0ZW0ub2Zmc2V0VG9wIC0gY29udGFpbmVyU2Nyb2xsO1xyXG59XHJcbmZ1bmN0aW9uIHNjcm9sbERvd25UbyhpdGVtLCBjb250YWluZXIpIHtcclxuICAgIGNvbnN0IG9mZnNldERpZmZlcmVuY2UgPSBzY3JvbGxEb3duRGlmZmVyZW5jZShpdGVtLCBjb250YWluZXIpO1xyXG4gICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3AgKyBvZmZzZXREaWZmZXJlbmNlO1xyXG59XHJcbmZ1bmN0aW9uIGlzU2Nyb2xsYWJsZShpdGVtKSB7XHJcbiAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGl0ZW0pO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBzdHlsZS5vdmVyZmxvdyA9PT0gXCJzY3JvbGxcIiB8fFxyXG4gICAgICAgIHN0eWxlLm92ZXJmbG93ID09PSBcImF1dG9cIiB8fFxyXG4gICAgICAgIHN0eWxlLm92ZXJmbG93WCA9PT0gXCJzY3JvbGxcIiB8fFxyXG4gICAgICAgIHN0eWxlLm92ZXJmbG93WCA9PT0gXCJhdXRvXCIgfHxcclxuICAgICAgICBzdHlsZS5vdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHxcclxuICAgICAgICBzdHlsZS5vdmVyZmxvd1kgPT09IFwiYXV0b1wiXHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIGdldFNjcm9sbENvbnRhaW5lcihpdGVtKSB7XHJcbiAgICBsZXQgcGFyZW50ID0gaXRlbS5wYXJlbnROb2RlO1xyXG4gICAgd2hpbGUgKCFpc1Njcm9sbGFibGUocGFyZW50KSAmJiBwYXJlbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiKSB7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFyZW50O1xyXG59XHJcbmZ1bmN0aW9uIG91dGVySGVpZ2h0KGl0ZW0pIHtcclxuICAgIHJldHVybiBpdGVtLm9mZnNldEhlaWdodDtcclxufVxyXG5mdW5jdGlvbiBpbnRvVmlldyhpdGVtKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRTY3JvbGxDb250YWluZXIoaXRlbSk7XHJcbiAgICBpZiAoc2Nyb2xsVXBEaWZmZXJlbmNlKGl0ZW0sIGNvbnRhaW5lcikgPiAwKSB7XHJcbiAgICAgICAgc2Nyb2xsVXBUbyhpdGVtLCBjb250YWluZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjcm9sbERvd25EaWZmZXJlbmNlKGl0ZW0sIGNvbnRhaW5lcikgPCAwKSB7XHJcbiAgICAgICAgc2Nyb2xsRG93blRvKGl0ZW0sIGNvbnRhaW5lcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZGlzdGFuY2VCZXR3ZWVuKGl0ZW0xLCBpdGVtMikge1xyXG4gICAgcmV0dXJuIGl0ZW0xLm9mZnNldFRvcCAtIGl0ZW0yLm9mZnNldFRvcDtcclxufVxyXG5mdW5jdGlvbiBvdXRlckRpc3RhbmNlQmV0d2VlbihpdGVtMSwgaXRlbTIpIHtcclxuICAgIGNvbnN0IGRpc3QgPSBkaXN0YW5jZUJldHdlZW4oaXRlbTEsIGl0ZW0yKTtcclxuICAgIHJldHVybiAoZGlzdCA+PSAwKVxyXG4gICAgICAgID8gZGlzdCArIG91dGVySGVpZ2h0KGl0ZW0xKVxyXG4gICAgICAgIDogZGlzdCArIG91dGVySGVpZ2h0KGl0ZW0yKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBpbnRvVmlldyxcclxuICAgIG91dGVyRGlzdGFuY2VCZXR3ZWVuLFxyXG4gICAgaW5uZXJIZWlnaHQsXHJcbiAgICBnZXRTY3JvbGxDb250YWluZXJcclxufTtcclxuIiwiLypqc2xpbnQgYnJvd3NlciAqL1xyXG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHNjcm9sbCBmcm9tIFwiLi9zY3JvbGxcIjtcclxuXHJcbmZ1bmN0aW9uIGhhc1Njcm9sbENvbnRhaW5lckFzUGFyZW50KGl0ZW0pIHtcclxuICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IHNjcm9sbC5nZXRTY3JvbGxDb250YWluZXIoaXRlbSk7XHJcbiAgICByZXR1cm4gc2Nyb2xsQ29udGFpbmVyID09PSBpdGVtLnBhcmVudE5vZGU7XHJcbn1cclxuZnVuY3Rpb24gdXBUb1Njcm9sbENoaWxkKGl0ZW0pIHtcclxuICAgIGxldCBjb250YWluZXIgPSBpdGVtO1xyXG4gICAgd2hpbGUgKFxyXG4gICAgICAgICFoYXNTY3JvbGxDb250YWluZXJBc1BhcmVudChjb250YWluZXIpICYmXHJcbiAgICAgICAgY29udGFpbmVyLm5vZGVOYW1lICE9PSBcIkhUTUxcIlxyXG4gICAgKSB7XHJcbiAgICAgICAgY29udGFpbmVyID0gY29udGFpbmVyLnBhcmVudE5vZGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG59XHJcbmZ1bmN0aW9uIHNjcm9sbFRvKGl0ZW0pIHtcclxuICAgIHNjcm9sbC5pbnRvVmlldyhpdGVtKTtcclxufVxyXG5mdW5jdGlvbiBnZXRGb2N1c2FibGVGcm9tKGNvbnRhaW5lcikge1xyXG4gICAgcmV0dXJuIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgIFwiYnV0dG9uLCBbaHJlZl0sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBcIiArXHJcbiAgICAgICAgXCJbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCJcclxuICAgICk7XHJcbn1cclxuZnVuY3Rpb24gc2V0Rm9jdXNlZChpdGVtKSB7XHJcbiAgICBjb25zdCBmb2N1c2FibGUgPSBnZXRGb2N1c2FibGVGcm9tKGl0ZW0pO1xyXG4gICAgaWYgKGZvY3VzYWJsZSkge1xyXG4gICAgICAgIGZvY3VzYWJsZVswXS5mb2N1cygpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG1vdmVUbyhpdGVtKSB7XHJcbiAgICBpdGVtID0gdXBUb1Njcm9sbENoaWxkKGl0ZW0pO1xyXG4gICAgc2Nyb2xsVG8oaXRlbSk7XHJcbiAgICBzZXRGb2N1c2VkKGl0ZW0pO1xyXG59XHJcbmZ1bmN0aW9uIG1vdmVUb0dpdmVuRGlyZWN0aW9uKGl0ZW0sIGdldEVsRnVuYykge1xyXG4gICAgbGV0IHNjcm9sbENoaWxkID0gaXRlbTtcclxuICAgIGlmICghaGFzU2Nyb2xsQ29udGFpbmVyQXNQYXJlbnQoaXRlbSkpIHtcclxuICAgICAgICBzY3JvbGxDaGlsZCA9IHVwVG9TY3JvbGxDaGlsZChpdGVtKTtcclxuICAgIH1cclxuICAgIHNjcm9sbENoaWxkID0gZ2V0RWxGdW5jKHNjcm9sbENoaWxkKTtcclxuICAgIGlmICghc2Nyb2xsQ2hpbGQpIHtcclxuICAgICAgICBzY3JvbGxDaGlsZCA9IGl0ZW07XHJcbiAgICB9XHJcbiAgICBtb3ZlVG8oc2Nyb2xsQ2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIG1vdmVUb1ByZXZpb3VzKGl0ZW0pIHtcclxuICAgIG1vdmVUb0dpdmVuRGlyZWN0aW9uKGl0ZW0sIGZ1bmN0aW9uIGdldFByZXYoaXRlbSkge1xyXG4gICAgICAgIHJldHVybiB1dGlscy52aXNpYmxlU2libGluZ3MoaXRlbSwgXCJwcmV2XCIpWzBdO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gbW92ZVRvTmV4dChpdGVtKSB7XHJcbiAgICByZXR1cm4gbW92ZVRvR2l2ZW5EaXJlY3Rpb24oaXRlbSwgZnVuY3Rpb24gZ2V0TmV4dChpdGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIHV0aWxzLnZpc2libGVTaWJsaW5ncyhpdGVtLCBcIm5leHRcIilbMF07XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpc1Njcm9sbFBhcmVudChlbCkge1xyXG4gICAgY29uc3Qgc2Nyb2xsUGFyZW50ID0gc2Nyb2xsLmdldFNjcm9sbENvbnRhaW5lcihlbCk7XHJcbiAgICByZXR1cm4gZWwucGFyZW50Tm9kZSA9PT0gc2Nyb2xsUGFyZW50O1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbnRhaW5lckNoaWxkKGl0ZW0pIHtcclxuICAgIGxldCBjb250YWluZXIgPSBpdGVtO1xyXG4gICAgd2hpbGUgKCFpc1Njcm9sbFBhcmVudChjb250YWluZXIpICYmIGNvbnRhaW5lci5ub2RlTmFtZSAhPT0gXCJIVE1MXCIpIHtcclxuICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb250YWluZXI7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW5zaWRlQWJvdmVGaWx0ZXIoaXRlbSwgc2Nyb2xsSGVpZ2h0KSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXJDaGlsZChpdGVtKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiBzY3JvbGxWaWV3RmlsdGVyKGNoaWxkKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdCA9IHNjcm9sbC5vdXRlckRpc3RhbmNlQmV0d2Vlbihjb250YWluZXIsIGNoaWxkKTtcclxuICAgICAgICByZXR1cm4gZGlzdCA+IDAgJiYgZGlzdCA8IHNjcm9sbEhlaWdodDtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlSW5zaWRlQmVsb3dGaWx0ZXIoaXRlbSwgc2Nyb2xsSGVpZ2h0KSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXJDaGlsZChpdGVtKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiBzY3JvbGxWaWV3RmlsdGVyKGNoaWxkKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdCA9IHNjcm9sbC5vdXRlckRpc3RhbmNlQmV0d2VlbihjaGlsZCwgY29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gZGlzdCA+IDAgJiYgZGlzdCA8IHNjcm9sbEhlaWdodDtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0UGFnZVVwSXRlbShpdGVtKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBzY3JvbGwuZ2V0U2Nyb2xsQ29udGFpbmVyKGl0ZW0pO1xyXG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5jaGlsZHJlbik7XHJcbiAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSBzY3JvbGwuaW5uZXJIZWlnaHQoY29udGFpbmVyKTtcclxuICAgIGNvbnN0IHNjcm9sbFZpZXdGaWx0ZXIgPSBjcmVhdGVJbnNpZGVBYm92ZUZpbHRlcihpdGVtLCBzY3JvbGxIZWlnaHQpO1xyXG4gICAgY29uc3QgZmlsdGVyZWRJdGVtcyA9IGl0ZW1zLmZpbHRlcihzY3JvbGxWaWV3RmlsdGVyKTtcclxuICAgIHJldHVybiBmaWx0ZXJlZEl0ZW1zWzBdO1xyXG59XHJcbmZ1bmN0aW9uIGdldFBhZ2VEb3duSXRlbShpdGVtKSB7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBzY3JvbGwuZ2V0U2Nyb2xsQ29udGFpbmVyKGl0ZW0pO1xyXG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKGNvbnRhaW5lci5jaGlsZHJlbik7XHJcbiAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSBzY3JvbGwuaW5uZXJIZWlnaHQoY29udGFpbmVyKTtcclxuICAgIGNvbnN0IHNjcm9sbFZpZXdGaWx0ZXIgPSBjcmVhdGVJbnNpZGVCZWxvd0ZpbHRlcihpdGVtLCBzY3JvbGxIZWlnaHQpO1xyXG4gICAgY29uc3QgZmlsdGVyZWRJdGVtcyA9IGl0ZW1zLmZpbHRlcihzY3JvbGxWaWV3RmlsdGVyKTtcclxuICAgIHJldHVybiBmaWx0ZXJlZEl0ZW1zLnBvcCgpO1xyXG59XHJcbmZ1bmN0aW9uIHBhZ2VVcEZyb20oaXRlbSkge1xyXG4gICAgaXRlbSA9IGdldFBhZ2VVcEl0ZW0oaXRlbSk7XHJcbiAgICByZXR1cm4gbW92ZVRvKGl0ZW0pO1xyXG59XHJcbmZ1bmN0aW9uIHBhZ2VEb3duRnJvbShpdGVtKSB7XHJcbiAgICBpdGVtID0gZ2V0UGFnZURvd25JdGVtKGl0ZW0pO1xyXG4gICAgcmV0dXJuIG1vdmVUbyhpdGVtKTtcclxufVxyXG5mdW5jdGlvbiBtb3ZlVG9TdGFydChpdGVtKSB7XHJcbiAgICBsZXQgc2Nyb2xsQ2hpbGQ7XHJcbiAgICBpZiAoIWhhc1Njcm9sbENvbnRhaW5lckFzUGFyZW50KGl0ZW0pKSB7XHJcbiAgICAgICAgc2Nyb2xsQ2hpbGQgPSB1cFRvU2Nyb2xsQ2hpbGQoaXRlbSk7XHJcbiAgICB9XHJcbiAgICBzY3JvbGxDaGlsZCA9IHV0aWxzLnZpc2libGVTaWJsaW5ncyhzY3JvbGxDaGlsZCwgXCJwcmV2XCIpLnBvcCgpO1xyXG4gICAgaWYgKCFzY3JvbGxDaGlsZCkge1xyXG4gICAgICAgIHNjcm9sbENoaWxkID0gaXRlbTtcclxuICAgIH1cclxuICAgIHJldHVybiBtb3ZlVG8oc2Nyb2xsQ2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIG1vdmVUb0VuZChpdGVtKSB7XHJcbiAgICBsZXQgc2Nyb2xsQ2hpbGQ7XHJcbiAgICBpZiAoIWhhc1Njcm9sbENvbnRhaW5lckFzUGFyZW50KGl0ZW0pKSB7XHJcbiAgICAgICAgc2Nyb2xsQ2hpbGQgPSB1cFRvU2Nyb2xsQ2hpbGQoaXRlbSk7XHJcbiAgICB9XHJcbiAgICBzY3JvbGxDaGlsZCA9IHV0aWxzLnZpc2libGVTaWJsaW5ncyhzY3JvbGxDaGlsZCwgXCJuZXh0XCIpLnBvcCgpO1xyXG4gICAgaWYgKCFzY3JvbGxDaGlsZCkge1xyXG4gICAgICAgIHNjcm9sbENoaWxkID0gaXRlbTtcclxuICAgIH1cclxuICAgIHJldHVybiBtb3ZlVG8oc2Nyb2xsQ2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIGtleWRvd25IYW5kbGVyKGV2dCkge1xyXG4gICAgY29uc3QgaXRlbSA9IGV2dC50YXJnZXQ7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJQYWdlVXBcIikge1xyXG4gICAgICAgIHBhZ2VVcEZyb20oaXRlbSk7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJQYWdlRG93blwiKSB7XHJcbiAgICAgICAgcGFnZURvd25Gcm9tKGl0ZW0pO1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRW5kXCIpIHtcclxuICAgICAgICBtb3ZlVG9FbmQoaXRlbSk7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJIb21lXCIpIHtcclxuICAgICAgICBtb3ZlVG9TdGFydChpdGVtKTtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuICAgIGlmIChldnQua2V5ID09PSBcIkFycm93VXBcIikge1xyXG4gICAgICAgIG1vdmVUb1ByZXZpb3VzKGl0ZW0pO1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiQXJyb3dEb3duXCIpIHtcclxuICAgICAgICBtb3ZlVG9OZXh0KGl0ZW0pO1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGtleWRvd25IYW5kbGVyLFxyXG4gICAgbW92ZVRvXHJcbn07XHJcbiIsIi8qanNsaW50IGJyb3dzZXIgKi9cclxuaW1wb3J0IHV0aWxzIGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCBzY3JvbGxNYW5hZ2VyIGZyb20gXCIuL3Njcm9sbG1hbmFnZXJcIjtcclxuXHJcbmNvbnN0IGNhdGVnb3JpZXNTZWxlY3RvciA9IFwiI2NhdGVnb3JpZXNcIjtcclxuY29uc3QgY2hlY2tib3hTZWxlY3RvciA9IFwiaW5wdXRbdHlwZT1jaGVja2JveF1cIjtcclxuXHJcbmZ1bmN0aW9uIGdldENoZWNrYm94QnlWYWx1ZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFt2YWx1ZT1cIiArIHZhbHVlICsgXCJdXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHVuY2hlY2tCeVZhbHVlKHZhbHVlKSB7XHJcbiAgICBjb25zdCBjaGVja2JveCA9IGdldENoZWNrYm94QnlWYWx1ZSh2YWx1ZSk7XHJcbiAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xyXG4gICAgICAgIGNoZWNrYm94LmNsaWNrKCk7XHJcbiAgICB9XHJcbn1cclxuLy8gV2UgY2FuJ3QganVzdCBzZXQgdGhlIGNoZWNrYm94IGNoZWNrZWQgdmFsdWUgdG8gdHJ1ZS5cclxuLy8gT3RoZXIgdGhpbmdzIGFsc28gbmVlZCB0byBvY2N1ciB0aGF0IGFyZSB0cmlnZ2VyZWQgYnkgdGhlIGNsaWNrIGV2ZW50LlxyXG4vLyBCZWNhdXNlIG9mIHRoYXQsIHdlIG5lZWQgdG8gY2xpY2sgb24gdGhlIGNoZWNrYm94IGluc3RlYWQuXHJcbmZ1bmN0aW9uIGNoZWNrRmlyc3QoKSB7XHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXRlZ29yaWVzU2VsZWN0b3IpO1xyXG4gICAgY29uc3QgY2hlY2tib3hlcyA9IGNhdGVnb3JpZXMucXVlcnlTZWxlY3RvckFsbChjaGVja2JveFNlbGVjdG9yKTtcclxuICAgIGNvbnN0IGZpcnN0Q2hlY2tib3ggPSB1dGlscy5nZXRWaXNpYmxlKGNoZWNrYm94ZXMpWzBdO1xyXG4gICAgaWYgKCFmaXJzdENoZWNrYm94LmNoZWNrZWQpIHtcclxuICAgICAgICBmaXJzdENoZWNrYm94LmNsaWNrKCk7XHJcbiAgICB9XHJcbiAgICBmaXJzdENoZWNrYm94LmZvY3VzKCk7XHJcbn1cclxuZnVuY3Rpb24gcmVzZXQoKSB7XHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXRlZ29yaWVzU2VsZWN0b3IpO1xyXG4gICAgY29uc3QgaW5wdXRzID0gY2F0ZWdvcmllcy5xdWVyeVNlbGVjdG9yQWxsKGNoZWNrYm94U2VsZWN0b3IpO1xyXG4gICAgY29uc3QgY2hlY2tlZElucHV0cyA9IEFycmF5LmZyb20oaW5wdXRzKS5maWx0ZXIoKGlucHV0KSA9PiBpbnB1dC5jaGVja2VkKTtcclxuICAgIGNoZWNrZWRJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGlucHV0LmNsaWNrKCkpO1xyXG59XHJcbmZ1bmN0aW9uIGFkZENoZWNrYm94RXZlbnQodHlwZSwgaGFuZGxlcikge1xyXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2F0ZWdvcmllc1NlbGVjdG9yKTtcclxuICAgIGNhdGVnb3JpZXMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmdW5jdGlvbiBjaGVja2JveEZpbHRlcihldnQpIHtcclxuICAgICAgICBjb25zdCBlbCA9IGV2dC50YXJnZXQ7XHJcbiAgICAgICAgaWYgKGVsLm1hdGNoZXMoY2hlY2tib3hTZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgaGFuZGxlcihldnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXRlZ29yaWVzU2VsZWN0b3IpO1xyXG4gICAgY2F0ZWdvcmllcy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBzY3JvbGxNYW5hZ2VyLmtleWRvd25IYW5kbGVyKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCAge1xyXG4gICAgYWRkQ2hlY2tib3hFdmVudCxcclxuICAgIHVuY2hlY2tCeVZhbHVlLFxyXG4gICAgY2hlY2tGaXJzdCxcclxuICAgIHJlc2V0LFxyXG4gICAgaW5pdFxyXG59O1xyXG4iLCIvKmpzbGludCBicm93c2VyICovXHJcbmltcG9ydCBtdXN0YWNoZSBmcm9tIFwibXVzdGFjaGVcIjtcclxuXHJcbmZ1bmN0aW9uIHJlbmV3UmVzdWx0cyhyZXN1bHRzLCBwYXJlbnQpIHtcclxuICAgIC8vIElmIHRoZSBlbGVtZW50IHNlY3Rpb24gZXhpc3RzLCBpdCBuZWVkcyB0byBiZSByZW1vdmVkIGFuZCByZWNyZWF0ZWQuXHJcbiAgICAvLyBKdXN0IGVtcHR5aW5nIHRoZSBzZWN0aW9uIGlzIG5vdCBnb29kIGVub3VnaCwgYXMgdGhhdFxyXG4gICAgLy8gY2FuIGxlYXZlIGJlaGluZCB1bndhbnRlZCB0aGluZ3MgbGlrZSBldmVudCBoYW5kbGVycy5cclxuICAgIGlmIChyZXN1bHRzKSB7XHJcbiAgICAgICAgcmVzdWx0cy5yZW1vdmUoKTtcclxuICAgIH1cclxuICAgIHJlc3VsdHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgcmVzdWx0cy5pZCA9IFwicmVzdWx0c1wiO1xyXG4gICAgcGFyZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHJlc3VsdHMpO1xyXG4gICAgcmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuZnVuY3Rpb24gaW5pdChjYXREYXRhKSB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzdWx0LXRlbXBsYXRlXCIpO1xyXG4gICAgaWYgKCF0ZW1wbGF0ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc3VsdFJlZHVjZXIoaHRtbCwgY2F0SW5mbywgaW5kZXgpIHtcclxuICAgICAgICBjb25zdCB2aWV3ID0ge1xyXG4gICAgICAgICAgICByZXN1bHRzOiB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogY2F0SW5mby50aXRsZSxcclxuICAgICAgICAgICAgICAgIGZvb2Q6IGNhdEluZm8uaXRlbXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGh0bWwgKyBtdXN0YWNoZS5yZW5kZXIodGVtcGxhdGUuaW5uZXJIVE1MLCB2aWV3KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjbGVhckFsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xlYXJBbGxcIik7XHJcbiAgICBjb25zdCByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXN1bHRzXCIpO1xyXG4gICAgY29uc3QgdGVtcGxhdGVSZXN1bHRzID0gcmVuZXdSZXN1bHRzKHJlc3VsdHMsIGNsZWFyQWxsKTtcclxuICAgIHRlbXBsYXRlUmVzdWx0cy5pbm5lckhUTUwgPSBjYXREYXRhLnJlZHVjZShyZXN1bHRSZWR1Y2VyLCBcIlwiKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBpbml0XHJcbn07XHJcbiIsIi8qanNsaW50IGJyb3dzZXIgKi9cclxuaW1wb3J0IHV0aWxzIGZyb20gXCIuL3V0aWxzXCI7XHJcblxyXG5jb25zdCByZXN1bHRzU2VsZWN0b3IgPSBcIiNyZXN1bHRzXCI7XHJcbmNvbnN0IHJlc3VsdFNlbGVjdG9yID0gXCIucmVzdWx0XCI7XHJcbmNvbnN0IGNsb3NlU2VsZWN0b3IgPSBcIi5jbG9zZVwiO1xyXG5jb25zdCBjbGVhckFsbFNlbGVjdG9yID0gXCIjY2xlYXJBbGxcIjtcclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZShyZXN1bHQsIHNob3VsZFNob3cpIHtcclxuICAgIGNvbnN0IGNsZWFyQWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjbGVhckFsbFNlbGVjdG9yKTtcclxuICAgIHJlc3VsdC5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZVwiLCAhc2hvdWxkU2hvdyk7XHJcbiAgICBjb25zdCByZXN1bHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChyZXN1bHRTZWxlY3Rvcik7XHJcbiAgICBjb25zdCBoYXNSZXN1bHRzID0gdXRpbHMuaGFzVmlzaWJsZShyZXN1bHRzKTtcclxuICAgIGNsZWFyQWxsLmNsYXNzTGlzdC50b2dnbGUoXCJoaWRlXCIsICFoYXNSZXN1bHRzKTtcclxufVxyXG5mdW5jdGlvbiBnZXROYW1lKGJ1dHRvbikge1xyXG4gICAgbGV0IHBhcmVudCA9IGJ1dHRvbi5wYXJlbnROb2RlO1xyXG4gICAgd2hpbGUgKCFwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmVzdWx0XCIpICYmIHBhcmVudC5ub2RlTmFtZSAhPT0gXCJIVE1MXCIpIHtcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcclxuICAgIH1cclxuICAgIHJldHVybiBwYXJlbnQuaWQ7XHJcbn1cclxuZnVuY3Rpb24gYWRkQ2xvc2VidXR0b25zRXZlbnQodHlwZSwgaGFuZGxlcikge1xyXG4gICAgY29uc3QgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocmVzdWx0c1NlbGVjdG9yKTtcclxuXHJcbiAgICBmdW5jdGlvbiBidXR0b25GaWx0ZXJIYW5kbGVyKGV2dCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmcgPSBldnQudGFyZ2V0O1xyXG4gICAgICAgIGlmICh0YXJnLm1hdGNoZXMoY2xvc2VTZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgaGFuZGxlcihldnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJlc3VsdHMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBidXR0b25GaWx0ZXJIYW5kbGVyKTtcclxufVxyXG5mdW5jdGlvbiBjbG9zZUNsaWNrSGFuZGxlcihldnQpIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IGV2dC50YXJnZXQ7XHJcbiAgICBjb25zdCBpZCA9IGdldE5hbWUoYnV0dG9uKTtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpZCk7XHJcbiAgICByZXN1bHQuY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XHJcbn1cclxuZnVuY3Rpb24gYWRkQ2xlYXJhbGxFdmVudCh0eXBlLCBoYW5kbGVyKSB7XHJcbiAgICBjb25zdCBjbGVhckFsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xlYXJBbGxTZWxlY3Rvcik7XHJcbiAgICBjbGVhckFsbC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFyQWxsQ2xpY2tIYW5kbGVyKCkge1xyXG4gICAgY29uc3QgcmVzdWx0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocmVzdWx0U2VsZWN0b3IpO1xyXG4gICAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQpID0+IHJlc3VsdC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKSk7XHJcbn1cclxuZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocmVzdWx0U2VsZWN0b3IpO1xyXG4gICAgcmVzdWx0LmZvckVhY2goKHJlc3VsdCkgPT4gcmVzdWx0LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpKTtcclxuICAgIGFkZENsb3NlYnV0dG9uc0V2ZW50KFwiY2xpY2tcIiwgY2xvc2VDbGlja0hhbmRsZXIpO1xyXG5cclxuICAgIGNvbnN0IGNsZWFyQWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjbGVhckFsbFNlbGVjdG9yKTtcclxuICAgIGNsZWFyQWxsLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xyXG4gICAgYWRkQ2xlYXJhbGxFdmVudChcImNsaWNrXCIsIGNsZWFyQWxsQ2xpY2tIYW5kbGVyKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBhZGRDbG9zZWJ1dHRvbnNFdmVudCxcclxuICAgIGFkZENsZWFyYWxsRXZlbnQsXHJcbiAgICBnZXROYW1lLFxyXG4gICAgdG9nZ2xlLFxyXG4gICAgaW5pdFxyXG59O1xyXG4iLCIvKmpzbGludCBicm93c2VyICovXHJcbmltcG9ydCBlc2NhcGVSZWdFeHAgZnJvbSBcImVzY2FwZS1yZWdleHBcIjtcclxuXHJcbmZ1bmN0aW9uIGZpbHRlckNoZWNrYm94ZXNCeVRleHQoY29udGFpbmVyLCBzZWFyY2hGaWVsZCkge1xyXG4gICAgZnVuY3Rpb24gY29udGFpbnNUZXh0KGhheXN0YWNrLCBuZWVkbGUpIHtcclxuICAgICAgICByZXR1cm4gbmVlZGxlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihoYXlzdGFjay50b0xvd2VyQ2FzZSgpKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2FzZUluc2Vuc2l0aXZlQm9sZCh0ZXh0LCBzZWFyY2gpIHtcclxuICAgICAgICBjb25zdCBzZWFyY2hSeCA9IG5ldyBSZWdFeHAoXCIoXCIgKyBlc2NhcGVSZWdFeHAoc2VhcmNoKSArIFwiKVwiLCBcImdpXCIpO1xyXG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2Uoc2VhcmNoUngsIFwiPGI+JDE8L2I+XCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGlnaGxpZ2h0TWF0Y2hlcyhzZWFyY2gsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwibGFiZWxcIikuZm9yRWFjaChmdW5jdGlvbiAobGFiZWwpIHtcclxuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gY2FzZUluc2Vuc2l0aXZlQm9sZChsYWJlbC5pbm5lclRleHQsIHNlYXJjaCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzaG93SXRlbShjaGVja2JveCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGNoZWNrYm94LnBhcmVudE5vZGU7XHJcbiAgICAgICAgcGFyZW50LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gICAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcclxuICAgIH1cclxuXHJcbiAgICBzZWFyY2hGaWVsZC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZnVuY3Rpb24gc2VhcmNoSGFuZGxlcihldnQpIHtcclxuICAgICAgICBjb25zdCBzZWFyY2hWYWx1ZSA9IGV2dC50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBhcmVXaXRoU2VhcmNoKGNoZWNrYm94KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gY2hlY2tib3gubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbnNUZXh0KHNlYXJjaFZhbHVlLCBsYWJlbC5pbm5lclRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcInBcIikpLmZvckVhY2goXHJcbiAgICAgICAgICAgIChwYXJhKSA9PiBwYXJhLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBjaGVja2JveGVzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFt0eXBlPWNoZWNrYm94XVwiKTtcclxuICAgICAgICBBcnJheS5mcm9tKGNoZWNrYm94ZXMpLmZpbHRlcihjb21wYXJlV2l0aFNlYXJjaCkuZm9yRWFjaChzaG93SXRlbSk7XHJcbiAgICAgICAgaGlnaGxpZ2h0TWF0Y2hlcyhzZWFyY2hWYWx1ZSwgY29udGFpbmVyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmaWx0ZXJDaGVja2JveGVzQnlUZXh0OyIsIi8qanNsaW50IGJyb3dzZXIgKi9cclxuaW1wb3J0IHV0aWxzIGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCBjcmVhdGVDYXRlZ29yaWVzIGZyb20gXCIuL2NyZWF0ZWNhdGVnb3JpZXNcIjtcclxuaW1wb3J0IGNoZWNrYm94TGlzdCBmcm9tIFwiLi9jaGVja2JveGxpc3RcIjtcclxuaW1wb3J0IGNyZWF0ZVJlc3VsdHMgZnJvbSBcIi4vY3JlYXRlcmVzdWx0c1wiO1xyXG5pbXBvcnQgcmVzdWx0c0NvbnRyb2xsZXIgZnJvbSBcIi4vcmVzdWx0c2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IGZpbHRlckNoZWNrYm94ZXMgZnJvbSBcIi4vZmlsdGVyY2hlY2tib3hlc2J5dGV4dFwiO1xyXG5cclxuY29uc3QgY2F0ZWdvcmllc1NlbGVjdG9yID0gXCIjY2F0ZWdvcmllc1wiO1xyXG5jb25zdCBzZWFyY2hGb3JtU2VsZWN0b3IgPSBcIiNzZWFyY2hcIjtcclxuY29uc3Qgc2VhcmNoRmllbGRTZWxlY3RvciA9IFwiI2NhdGVnb3J5c2VhcmNoXCI7XHJcblxyXG5mdW5jdGlvbiB1bmNoZWNrQ2hlY2tib3hIYW5kbGVyKGV2dCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSByZXN1bHRzQ29udHJvbGxlci5nZXROYW1lKGV2dC50YXJnZXQpO1xyXG4gICAgY2hlY2tib3hMaXN0LnVuY2hlY2tCeVZhbHVlKHZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiB0b2dnbGVSZXN1bHRIYW5kbGVyKGV2dCkge1xyXG4gICAgY29uc3QgY2hlY2tib3ggPSBldnQudGFyZ2V0O1xyXG4gICAgY29uc3QgcmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNcIiArIGNoZWNrYm94LnZhbHVlKTtcclxuICAgIHJlc3VsdHNDb250cm9sbGVyLnRvZ2dsZShyZXN1bHQsIGNoZWNrYm94LmNoZWNrZWQpO1xyXG59XHJcbmZ1bmN0aW9uIGNsZWFyQWxsQ2xpY2tIYW5kbGVyKCkge1xyXG4gICAgY29uc3Qgc2VhcmNoRmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlYXJjaEZpZWxkU2VsZWN0b3IpO1xyXG4gICAgc2VhcmNoRmllbGQudmFsdWUgPSBcIlwiO1xyXG4gICAgdXRpbHMua2V5VXAoc2VhcmNoRmllbGQpO1xyXG4gICAgY2hlY2tib3hMaXN0LnJlc2V0KCk7XHJcbiAgICBzZWFyY2hGaWVsZC5mb2N1cygpO1xyXG59XHJcbmZ1bmN0aW9uIGZvcm1TdWJtaXRIYW5kbGVyKGV2dCkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjaGVja2JveExpc3QuY2hlY2tGaXJzdCgpO1xyXG59XHJcbmZ1bmN0aW9uIGluaXRTZWFyY2hSZXN1bHRzKCkge1xyXG4gICAgY29uc3Qgc2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWFyY2hGaWVsZFNlbGVjdG9yKTtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhdGVnb3JpZXNTZWxlY3Rvcik7XHJcbiAgICBmaWx0ZXJDaGVja2JveGVzKGNhdGVnb3JpZXMsIHNlYXJjaCk7XHJcbiAgICBjaGVja2JveExpc3QuaW5pdCgpO1xyXG4gICAgY2hlY2tib3hMaXN0LmFkZENoZWNrYm94RXZlbnQoXCJjbGlja1wiLCB0b2dnbGVSZXN1bHRIYW5kbGVyKTtcclxuICAgIHJlc3VsdHNDb250cm9sbGVyLmluaXQoKTtcclxuICAgIHJlc3VsdHNDb250cm9sbGVyLmFkZENsb3NlYnV0dG9uc0V2ZW50KFwiY2xpY2tcIiwgdW5jaGVja0NoZWNrYm94SGFuZGxlcik7XHJcbiAgICBjb25zdCBzZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWFyY2hGb3JtU2VsZWN0b3IpO1xyXG4gICAgc2VhcmNoRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZvcm1TdWJtaXRIYW5kbGVyKTtcclxuICAgIHJlc3VsdHNDb250cm9sbGVyLmFkZENsZWFyYWxsRXZlbnQoXCJjbGlja1wiLCBjbGVhckFsbENsaWNrSGFuZGxlcik7XHJcbn1cclxuZnVuY3Rpb24gaW5pdChjYXREYXRhKSB7XHJcbiAgICBjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlYXJjaEZvcm1TZWxlY3Rvcik7XHJcbiAgICBjb25zdCBjYXRlZ29yeVNlY3Rpb24gPSBjcmVhdGVDYXRlZ29yaWVzLmluaXQoY2F0RGF0YSwgc2VhcmNoKTtcclxuICAgIGNyZWF0ZVJlc3VsdHMuaW5pdChjYXREYXRhLCBjYXRlZ29yeVNlY3Rpb24pO1xyXG4gICAgaW5pdFNlYXJjaFJlc3VsdHMoKTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBpbml0XHJcbn07XHJcbiIsImltcG9ydCBjc3MgZnJvbSBcIi4uL2Nzcy9zdHlsZS5jc3NcIjtcclxuaW1wb3J0IGNhdERhdGEgZnJvbSBcIi4uL2NvbmZpZy9jYXRlZ29yaWVzLmpzb25cIjtcclxuaW1wb3J0IHNlYXJjaFJlc3VsdHMgZnJvbSBcIi4vc2VhcmNocmVzdWx0c1wiO1xyXG5cclxuc2VhcmNoUmVzdWx0cy5pbml0KGNhdERhdGEpO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9